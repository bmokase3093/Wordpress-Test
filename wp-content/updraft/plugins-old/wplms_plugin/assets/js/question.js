!function(e){var t={};function n(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);const{createElement:r,render:s}=wp.element;var a=e=>r("div",{class:"lds-ellipsis"},r("div",null),r("div",null),r("div",null),r("div",null));const{createElement:i,render:o,useState:c,useEffect:l,Fragment:u}=wp.element;var d=e=>{const[t,n]=c({});l(()=>{n(e.question)},[e.question]);let r="";t.hasOwnProperty("marked_answer")&&(r=t.marked_answer);let s="";return t.hasOwnProperty("usercorrect")&&t.show_correct_answer&&(s="question_incorrect",t.usercorrect>0&&(s="question_correct")),i(u,null,i("div",{className:"question_content",dangerouslySetInnerHTML:{__html:t&&t.content?t.content:""}}),i("input",{type:"text",className:s,value:r,onChange:t=>{let r={...e.question};r.marked_answer=t.target.value,n(r),e.update(r,e.index,"changed")}}))};const{createElement:p,render:_,useState:h,useEffect:m,Fragment:f}=wp.element;var g=e=>{const[t,n]=h({}),[r,s]=h([]);m(()=>{if(n(e.question),e.question.hasOwnProperty("options")&&e.question.options.length&&Array.isArray(e.question.options)){let t=[...e.question.options];window.wplms_course_data.question_option_rearrange&&a(t),s(t)}},[e.question.correct_indexes]);const a=e=>{for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}};let i="";return t.hasOwnProperty("marked_answer")&&(i=t.marked_answer),p(f,null,p("div",{className:"question_content",dangerouslySetInnerHTML:{__html:t&&t.content?t.content:""}}),t.options&&t.options.length?p(f,null,(t=>r.map((function(r,s){let a=t.options.findIndex(e=>e==r);return p("div",{className:"question_option radio "+(t.show_correct_answer&&t.correct_indexes?t.correct_indexes&&t.correct_indexes.length&&t.correct_indexes.includes(a)?"question_correct":"question_incorrect":"")},p("input",{type:"radio",name:e.quiz_id+"_"+t.id,value:a,id:e.quiz_id+"_"+t.id+a,checked:parseInt(t.marked_answer)===a,onChange:t=>{let r={...e.question};r.marked_answer=t.target.value,n(r),e.update(r,e.index,"changed")}}),p("label",{for:e.quiz_id+"_"+t.id+a,dangerouslySetInnerHTML:{__html:r}}))})))(t),t.attempted?"":p("span",{className:"resetq_answer button",onClick:t=>{let r={...e.question};r.marked_answer=null,n(r),e.update(r,e.index,"changed")}},p("i",{class:"vicon vicon-trash"}))):"")};const{createElement:w,render:v,useState:k,useEffect:y,Fragment:q}=wp.element;var x=e=>{const[t,n]=k({});y(()=>{n(e.question)},[e.question]);const r=(t,r)=>{let s={...e.question};s.marked_answer&&s.marked_answer.length||(s.marked_answer=[]),s.marked_answer[r]=t,n(s),e.update(s,e.index,"changed")},s=(t,n)=>w(q,null,w("span",{className:t.show_correct_answer&&t.correct_indexes?t.correct_indexes&&t.correct_indexes.length&&t.correct_indexes.includes(n)?"question_correct":"question_incorrect":""},w("select",{name:e.quiz_id+"_"+t.id,id:e.quiz_id+"_"+t.id,onChange:e=>{r(e.target.value,n)}},w("option",null,window.wplms_course_data.translations.select_option),((e,t)=>e.options.map((function(n,r){return e.hasOwnProperty("options_arr")&&e.options_arr&&e.options_arr.length&&e.options_arr[t]&&e.options_arr[t].length?e.options_arr[t].includes((r+1).toString())||e.options_arr[t].includes(r+1)?w("option",{value:r,selected:e.marked_answer&&e.marked_answer.length&&e.marked_answer[t]&&parseInt(e.marked_answer[t])===r,dangerouslySetInnerHTML:{__html:n}}):void 0:w("option",{value:r,selected:e.marked_answer&&e.marked_answer.length&&e.marked_answer[t]&&parseInt(e.marked_answer[t])===r,dangerouslySetInnerHTML:{__html:n}})})))(t,n))),t.attempted?"":w("span",{className:"resetq_answer button",onClick:e=>{r(null,n)}},w("i",{class:"vicon vicon-trash"})));return w(q,null,t&&t.extra_content&&Array.isArray(t.extra_content)?w("div",{className:"question_content"},t.extra_content.map((function(e,n){return w(q,null,w("span",{className:"select_question_content",dangerouslySetInnerHTML:{__html:e}}),t.options&&t.options.length&&n<t.extra_content.length-1?w(q,null,s(t,n)):"")}))):"")};const{createElement:S,render:b,useState:E,useEffect:M,Fragment:N}=wp.element;var O=e=>{const[t,n]=E({}),[r,s]=E([]);"undefined"!=e.question.marked_answer&&null!=e.question.marked_answer||(e.question.marked_answer=[]),M(()=>{if(n(e.question),e.question.hasOwnProperty("options")&&e.question.options.length&&Array.isArray(e.question.options)){let t=[...e.question.options];window.wplms_course_data.question_option_rearrange&&a(t),s(t)}},[e.question.correct_indexes]);const a=e=>{for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}};return S(N,null,S("div",{className:"question_content",dangerouslySetInnerHTML:{__html:t&&t.content?t.content:""}}),t.options&&t.options.length?S(N,null,(t=>{if(r&&r.length)return r.map((function(r,s){let a=t.options.findIndex(e=>e==r);return S("div",{className:"question_option checkbox "+(t.show_correct_answer&&t.correct_indexes?t.correct_indexes&&t.correct_indexes.length&&t.correct_indexes.includes(a)?"question_correct":"question_incorrect":"")},S("input",{type:"checkbox",name:e.quiz_id+"_"+t.id,value:a,id:e.quiz_id+"_"+t.id+a,checked:e.question.marked_answer&&e.question.marked_answer.length&&e.question.marked_answer.includes(a),onChange:t=>{let r={...e.question};if(r.marked_answer.includes(a)){let e=r.marked_answer.indexOf(a);e>-1&&r.marked_answer.splice(e,1)}else r.marked_answer.push(a);n(r),e.update(r,e.index,"changed")}}),S("label",{for:e.quiz_id+"_"+t.id+a,dangerouslySetInnerHTML:{__html:r}}))}))})(t),t.attempted?"":S("span",{className:"resetq_answer button",onClick:t=>{let r={...e.question};r.marked_answer=null,n(r),e.update(r,e.index,"changed")}},S("i",{class:"vicon vicon-trash"}))):"")};const{createElement:B,render:z,useState:C,useEffect:I,Fragment:D}=wp.element;var A=e=>{const[t,n]=C("120"),[r,s]=C(()=>{let t="";return e.marked_answer&&e.marked_answer.length&&(t=e.marked_answer[e.index]),t});I(()=>{void 0!==r&&r&&r.length>15&&n(8*r.length)},[r]);let a="";r&&(a=r);return B(D,null,B("div",{className:"fillblank_area"},B("input",{type:"text",value:a,onChange:t=>{let n=r;n=t.target.value,s(n),e.update(n,e.index,"changed")},style:{width:t+"px"}})))};const{createElement:H,render:F,useState:T,useEffect:P,Fragment:L}=wp.element;var R=e=>{const[t,n]=T({});P(()=>{n(e.question)},[]);let r="";t.hasOwnProperty("marked_answer")&&(r=t.marked_answer);const s=(r,s,a)=>{if("changed"==a){let a={...t};a.marked_answer&&t.marked_answer.length||(a.marked_answer=[]),a.marked_answer[s]=r,n(a),e.update(a,e.index,"changed")}};return H(L,null,t&&t.extra_content&&Array.isArray(t.extra_content)?H("div",{className:"question_content"},t.extra_content.map((function(e,n){return H(L,null,H("span",{className:"select_question_content",dangerouslySetInnerHTML:{__html:e}}),n<t.extra_content.length-1?H("div",{className:"fillblank_area "+(t.show_correct_answer&&t.correct_indexes?t.correct_indexes&&t.correct_indexes.length&&t.correct_indexes.includes(n)?"question_correct":"question_incorrect":"")},H(A,{update:s,index:n,marked_answer:t.marked_answer})):"")}))):"")};const{createElement:j,render:X,useState:Y,useEffect:J,Fragment:U}=wp.element;var W=e=>{const[t,n]=Y([]),[r,s]=Y(!1),[a,i]=Y([]),[o,c]=Y([]),[l,u]=Y([]),[d,p]=Y([]);J(()=>{i(e.items)},[e.items]);let _="droppable";r&&(_+=" active");const h=e=>{let t="";return r===a[e]&&(t="dragging"),t};return j("div",{className:_},a.map((_,m)=>j("div",{key:m,onDragStart:e=>{a[m]&&s(a[m])},onDragEnd:()=>{s(!1)},onDragOver:t=>{t.preventDefault(),((t,n)=>{if(!r)return;let s=a[n];if(r===s)return;let o=[...a];o=o.filter(e=>e!=r),o.splice(n,0,r),i(o),e.update(o,"changed")})(0,m)},ref:e=>{((e,r)=>{if(e){let s=t;s[r]||(s[r]=e),n(s)}})(e,m)},draggable:"true",style:d[m],onTouchStart:e=>{let n=[...l];t.map((e,t)=>{let r=e.getBoundingClientRect();n[t]=r}),u(n),a[m]&&s(a[m])},onTouchMove:e=>{e.preventDefault();let t=[];if("touchmove"===e.type){let n=[...d];n[m]={transform:"translateY("+Math.floor(e.touches[0].clientY-l[m].top)+"px)"},p(n),t.push(a[m]);let r=[];if(e.touches[0].clientY&&l.map((n,s)=>{n.top+n.height/2>e.touches[0].clientY&&a[s]!==a[m]&&t.push(a[s]),n.bottom-n.height/2<e.touches[0].clientY&&a[s]!==a[m]&&r.push(a[s])}),r.length)for(let e=r.length-1;e>=0;e--)t.unshift(r[e]);c(t)}},onTouchEnd:t=>{i(o),e.update(o,"changed"),u([]),p([]),s(!1),c([])},className:h(m)+" "+(e.question.show_correct_answer&&e.question.correct_indexes?e.question.correct_indexes&&e.question.correct_indexes.length&&e.question.correct_indexes.includes(m)?"question_correct":"question_incorrect":"")},j("div",{dangerouslySetInnerHTML:{__html:_}}))))};const{createElement:K,render:$,useState:G,useEffect:Q,Fragment:V}=wp.element;var Z=e=>{e.question.id,e.quiz_id;const[t,n]=G({}),[r,s]=G(!1);Q(()=>{let t=e.question;if(!r&&t&&t.marked_answer&&t.marked_answer.length&&"undefined"!=t.marked_answer){let e=[];t.marked_answer.map((n,r)=>{e.push(t.original_options[parseInt(n)-1])}),t.options=e,n(t),s(!0)}n(t)},[t]);return K(V,null,K("div",{className:"question_content",dangerouslySetInnerHTML:{__html:t&&t.content?t.content:""}}),t.options&&t.options.length?K(V,null,K(W,{items:t.options,original_items:t.original_options,update:(r,s)=>{if("changed"==s){let s=t;s.marked_answer=[],r.map((e,t)=>{let n=s.original_options.indexOf(e);s.marked_answer.push(n+1)}),n(s),e.update(s,e.index,"changed")}},question:t}),t.attempted?"":K("span",{className:"resetq_answer button",onClick:r=>{let s={...t};s.marked_answer=null,s.options=s.original_options,n(s),e.update(s,e.index,"changed")}},K("i",{class:"vicon vicon-trash"}))):"")};const{createElement:ee,render:te,useState:ne,useEffect:re,Fragment:se}=wp.element;function ae(e){if(null==e)return!0;if(void 0===e)return!0;if("number"==typeof e)return!1;if(Array.isArray(e)||"string"==typeof e||e instanceof String)return 0===e.length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var ie=e=>{const[t,n]=ne([]),[r,s]=ne(!1),[a,i]=ne([]),[o,c]=ne(""),[l,u]=ne([]),[d,p]=ne(e.matches),[_,h]=ne([]),[m,f]=ne([]),[g,w]=ne([]),[v,k]=ne({}),[y,q]=ne([]),[x,S]=ne([]),[b,E]=ne([]),[M,N]=ne({x:0,y:0}),[O,B]=ne([]);re(()=>{let t=[...e.items];e.question&&e.question.marked_answer&&e.question.marked_answer.length&&e.question.marked_answer.map(n=>{n&&"NaN"!=typeof n&&(t=t.filter(t=>t!=e.question.original_options[n-1]))}),u(t);let n=[];e.question&&e.question.marked_answer&&e.question.marked_answer.length&&e.question.marked_answer.map(e=>{parseFloat(e)-1>=0?n.push(e-1):n.push(null)}),E(n),e.update(!1,"reset")},[e.items,e.reset]);let z="droppable";r&&(z+=" active");const C=e=>{let t="";return r===l[e]&&(t="dragging"),t};return ee("div",{className:"match_playground"},ee("div",{className:"match_options"},d&&d.length?d.map((n,c)=>ee("div",{key:c,className:"match_option "+(e.question.show_correct_answer&&e.question.correct_indexes?e.question.correct_indexes&&e.question.correct_indexes.length&&e.question.correct_indexes.includes(c)?"question_correct":"question_incorrect":""),onDrop:t=>{((t,n)=>{if(!r)return;if(O.index===n)return;let s=[...l],a=[...b];if(!a[n]&&0!==a[n]){s=s.filter(e=>e!=r);let t=e.original_items.indexOf(r);d&&d.length&&d.map((e,t)=>{ae(a[t])&&(a[t]=null)}),ae(n)||(a[n]=t),E(a),u(s),e.update(a,"changed")}})(0,c)},onDragOver:e=>{e.preventDefault()},ref:e=>{((e,t)=>{if(e){let n=a;n[t]||(n[t]=e),i(n)}})(e,c)}},ee("div",{dangerouslySetInnerHTML:{__html:n}}),ee("div",{className:"children"},e.original_items&&null!=b[c]&&e.original_items[b[c]]?ee("div",{key:"droppablediv"+c,draggable:"true",onDragStart:t=>{e.original_items[b[c]]&&(s(e.original_items[b[c]]),B({index:c,source:"droppablediv"}))},onDragEnd:()=>{s(!1),B({})},onDragOver:e=>{e.preventDefault()},className:C(c),style:x[b[c]],onTouchStart:n=>{let r=[...m];t.map((e,t)=>{let n=e.getBoundingClientRect();r[t]=n}),f(r);let i=[...g];a.map((e,t)=>{let n=e.getBoundingClientRect();i[t]=n}),w(i),k(o.getBoundingClientRect()),e.original_items[b[c]]&&(s(e.original_items[b[c]]),B({index:c,source:"droppablediv"})),B({})},onTouchMove:e=>{if(e&&(e.preventDefault(),"touchmove"===e.type)){let t=[...x];t[b[c]]={position:"fixed",top:Math.floor(e.touches[0].clientY)+"px",left:Math.floor(e.touches[0].clientX)+"px"},S(t),N({x:e.touches[0].clientX,y:e.touches[0].clientY})}},onTouchEnd:t=>{let n=[...l],a=[...b];v.top<M.y&&v.top+v.height>M.y&&v.left<M.x&&v.left+v.width>M.x&&(n.push(r),a.map((e,t)=>{e==b[c]&&(a[t]=null)})),w([]),k({}),s(!1),S([]),q([]),u(n),E(a),e.update(a,"changed"),N({x:0,y:0})}},ee("div",{dangerouslySetInnerHTML:{__html:e.original_items[b[c]]}})):""))):""),ee("div",{className:z,onDragOver:e=>{e.preventDefault()},onDrop:t=>{(t=>{if("droppablediv"!==O.source)return;if(!r)return;let n=[...l],s=[...b];n.includes(r)||n.push(r),u(n),ae(O.index)||(s[O.index]=null),E(s),e.update(s,"changed")})()},ref:e=>{var t;(t=e)&&c(t)}},l&&l.length?l.map((r,i)=>ee("div",{key:"draggablediv"+i,onDragStart:e=>{l[i]&&s(l[i]),B({})},onDragEnd:()=>{s(!1),B({})},onDragOver:e=>{e.preventDefault()},ref:e=>{((e,r)=>{if(e){let s=t;s[r]||(s[r]=e),n(s)}})(e,i)},draggable:"true",style:y[i],onTouchStart:e=>{let n=[...m];t.map((e,t)=>{let r=e.getBoundingClientRect();n[t]=r}),f(n);let i=[...g];a.map((e,t)=>{let n=e.getBoundingClientRect();i[t]=n}),w(i),r&&s(r),B({})},onTouchMove:e=>{if(e.preventDefault(),"touchmove"===e.type){let t=[...y];t[i]={position:"fixed",top:Math.floor(e.touches[0].clientY)+"px",left:Math.floor(e.touches[0].clientX)+"px"},q(t),N({x:e.touches[0].clientX,y:e.touches[0].clientY})}},onTouchEnd:t=>{q([]);let n=[...l],a=[...b];g.map((t,s)=>{if(t.top<M.y&&t.top+t.height>M.y&&t.left<M.x&&t.left+t.width>M.x){let t=e.original_items.indexOf(r);t>=0&&!a[s]&&0!==a[s]&&(a[s]=t,n=n.filter(e=>e!=r))}}),w([]),s(!1),u(n),E(a),e.update(a,"changed"),N({x:0,y:0})},className:C(i)},ee("div",{dangerouslySetInnerHTML:{__html:r}}))):""))};const{createElement:oe,render:ce,useState:le,useEffect:ue,Fragment:de}=wp.element;var pe=e=>{e.question.id,e.quiz_id;const[t,n]=le({}),[r,s]=le(!1);ue(()=>{n(e.question)},[t]);return oe(de,null,oe("div",{className:"question_content"},oe("div",{className:"question_statement",dangerouslySetInnerHTML:{__html:t&&t.extra_content&&t.extra_content.statement?t.extra_content.statement:""}}),t.options&&t.options.length&&t.content.match&&t.content.match.length?oe(ie,{matches:t.extra_content.match,original_matches:t.extra_content.match,items:t.options,original_items:t.original_options,update:(r,a)=>{if("changed"==a){let s={...t};s.marked_answer=[],r.map(e=>{s.marked_answer.push(parseInt(e)+1)}),n(s),e.update(s,e.index,"changed")}"reset"==a&&s(!1)},reset:r,question:t}):"",oe("div",{className:"question_end",dangerouslySetInnerHTML:{__html:t&&t.content&&t.content.end?t.content.end:""}})),t.attempted?"":oe("span",{className:"resetq_answer button",onClick:r=>{s(!0);let a={...t};a.marked_answer=null,a.options=a.original_options,n(a),e.update(a,e.index,"changed")}},oe("i",{class:"vicon vicon-trash"})))};const{createElement:_e,render:he,useState:me,useEffect:fe,Fragment:ge}=wp.element;var we=e=>{const[t,n]=me(e.question);let r="";return t.hasOwnProperty("marked_answer")&&(r=t.marked_answer),_e(ge,null,_e("div",{className:"question_content",dangerouslySetInnerHTML:{__html:t&&t.content?t.content:""}}),t.options&&t.options.length?_e(ge,null,(t=>t.options.map((function(r,s){return _e("div",{className:"question_option radio "+(t.show_correct_answer&&t.correct_indexes?t.correct_indexes&&t.correct_indexes.length&&t.correct_indexes.includes(s)?"question_correct":"question_incorrect":"")},_e("input",{type:"radio",name:e.quiz_id+"_"+t.id,value:s,id:e.quiz_id+"_"+t.id+s,checked:parseInt(t.marked_answer)===s,onChange:t=>{let r={...e.question};r.marked_answer=t.target.value,n(r),e.update(r,e.index,"changed")}}),_e("label",{for:e.quiz_id+"_"+t.id+s,dangerouslySetInnerHTML:{__html:r}}))})))(t),t.attempted?"":_e("span",{className:"resetq_answer button",onClick:t=>{let r={...e.question};r.marked_answer=null,n(r)}},_e("i",{class:"vicon vicon-trash"}))):"")};const{createElement:ve,render:ke,useState:ye,useEffect:qe,Fragment:xe}=wp.element;var Se,be,Ee=e=>{const[t,n]=ye({});qe(()=>{n(e.question)},[e.question]);let r="";t.hasOwnProperty("marked_answer")&&(r=t.marked_answer);let s="";return t.hasOwnProperty("usercorrect")&&t.show_correct_answer&&(s="question_incorrect",t.usercorrect>0&&(s="question_correct")),ve(xe,null,ve("div",{className:"question_content",dangerouslySetInnerHTML:{__html:t&&t.content?t.content:""}}),ve("textarea",{className:s,type:"text",onChange:t=>{let r={...e.question};r.marked_answer=t.target.value,n(r),e.update(r,e.index,"changed")},value:r},r))},Me=Me||function(e,t){var n={},r=n.lib={},s=function(){},a=r.Base={extend:function(e){s.prototype=this;var t=new s;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},i=r.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes;if(e=e.sigBytes,this.clamp(),r%4)for(var s=0;s<e;s++)t[r+s>>>2]|=(n[s>>>2]>>>24-s%4*8&255)<<24-(r+s)%4*8;else if(65535<n.length)for(s=0;s<e;s+=4)t[r+s>>>2]=n[s>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],r=0;r<t;r+=4)n.push(4294967296*e.random()|0);return new i.init(n,t)}}),o=n.enc={},c=o.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;r<e;r++){var s=t[r>>>2]>>>24-r%4*8&255;n.push((s>>>4).toString(16)),n.push((15&s).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new i.init(n,t/2)}},l=o.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;r<e;r++)n.push(String.fromCharCode(t[r>>>2]>>>24-r%4*8&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new i.init(n,t)}},u=o.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},d=r.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new i.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,s=n.sigBytes,a=this.blockSize,o=s/(4*a);if(t=(o=t?e.ceil(o):e.max((0|o)-this._minBufferSize,0))*a,s=e.min(4*t,s),t){for(var c=0;c<t;c+=a)this._doProcessBlock(r,c);c=r.splice(0,t),n.sigBytes-=s}return new i.init(c,s)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});r.Hasher=d.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new p.HMAC.init(e,n).finalize(t)}}});var p=n.algo={};return n}(Math);be=(Se=Me).lib.WordArray,Se.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp(),e=[];for(var s=0;s<n;s+=3)for(var a=(t[s>>>2]>>>24-s%4*8&255)<<16|(t[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|t[s+2>>>2]>>>24-(s+2)%4*8&255,i=0;4>i&&s+.75*i<n;i++)e.push(r.charAt(a>>>6*(3-i)&63));if(t=r.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var t=e.length,n=this._map;(r=n.charAt(64))&&-1!=(r=e.indexOf(r))&&(t=r);for(var r=[],s=0,a=0;a<t;a++)if(a%4){var i=n.indexOf(e.charAt(a-1))<<a%4*2,o=n.indexOf(e.charAt(a))>>>6-a%4*2;r[s>>>2]|=(i|o)<<24-s%4*8,s++}return be.create(r,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(e){function t(e,t,n,r,s,a,i){return((e=e+(t&n|~t&r)+s+i)<<a|e>>>32-a)+t}function n(e,t,n,r,s,a,i){return((e=e+(t&r|n&~r)+s+i)<<a|e>>>32-a)+t}function r(e,t,n,r,s,a,i){return((e=e+(t^n^r)+s+i)<<a|e>>>32-a)+t}function s(e,t,n,r,s,a,i){return((e=e+(n^(t|~r))+s+i)<<a|e>>>32-a)+t}for(var a=Me,i=(c=a.lib).WordArray,o=c.Hasher,c=a.algo,l=[],u=0;64>u;u++)l[u]=4294967296*e.abs(e.sin(u+1))|0;c=c.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,a){for(var i=0;16>i;i++){var o=e[c=a+i];e[c]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}i=this._hash.words;var c=e[a+0],u=(o=e[a+1],e[a+2]),d=e[a+3],p=e[a+4],_=e[a+5],h=e[a+6],m=e[a+7],f=e[a+8],g=e[a+9],w=e[a+10],v=e[a+11],k=e[a+12],y=e[a+13],q=e[a+14],x=e[a+15],S=t(S=i[0],M=i[1],E=i[2],b=i[3],c,7,l[0]),b=t(b,S,M,E,o,12,l[1]),E=t(E,b,S,M,u,17,l[2]),M=t(M,E,b,S,d,22,l[3]);S=t(S,M,E,b,p,7,l[4]),b=t(b,S,M,E,_,12,l[5]),E=t(E,b,S,M,h,17,l[6]),M=t(M,E,b,S,m,22,l[7]),S=t(S,M,E,b,f,7,l[8]),b=t(b,S,M,E,g,12,l[9]),E=t(E,b,S,M,w,17,l[10]),M=t(M,E,b,S,v,22,l[11]),S=t(S,M,E,b,k,7,l[12]),b=t(b,S,M,E,y,12,l[13]),E=t(E,b,S,M,q,17,l[14]),S=n(S,M=t(M,E,b,S,x,22,l[15]),E,b,o,5,l[16]),b=n(b,S,M,E,h,9,l[17]),E=n(E,b,S,M,v,14,l[18]),M=n(M,E,b,S,c,20,l[19]),S=n(S,M,E,b,_,5,l[20]),b=n(b,S,M,E,w,9,l[21]),E=n(E,b,S,M,x,14,l[22]),M=n(M,E,b,S,p,20,l[23]),S=n(S,M,E,b,g,5,l[24]),b=n(b,S,M,E,q,9,l[25]),E=n(E,b,S,M,d,14,l[26]),M=n(M,E,b,S,f,20,l[27]),S=n(S,M,E,b,y,5,l[28]),b=n(b,S,M,E,u,9,l[29]),E=n(E,b,S,M,m,14,l[30]),S=r(S,M=n(M,E,b,S,k,20,l[31]),E,b,_,4,l[32]),b=r(b,S,M,E,f,11,l[33]),E=r(E,b,S,M,v,16,l[34]),M=r(M,E,b,S,q,23,l[35]),S=r(S,M,E,b,o,4,l[36]),b=r(b,S,M,E,p,11,l[37]),E=r(E,b,S,M,m,16,l[38]),M=r(M,E,b,S,w,23,l[39]),S=r(S,M,E,b,y,4,l[40]),b=r(b,S,M,E,c,11,l[41]),E=r(E,b,S,M,d,16,l[42]),M=r(M,E,b,S,h,23,l[43]),S=r(S,M,E,b,g,4,l[44]),b=r(b,S,M,E,k,11,l[45]),E=r(E,b,S,M,x,16,l[46]),S=s(S,M=r(M,E,b,S,u,23,l[47]),E,b,c,6,l[48]),b=s(b,S,M,E,m,10,l[49]),E=s(E,b,S,M,q,15,l[50]),M=s(M,E,b,S,_,21,l[51]),S=s(S,M,E,b,k,6,l[52]),b=s(b,S,M,E,d,10,l[53]),E=s(E,b,S,M,w,15,l[54]),M=s(M,E,b,S,o,21,l[55]),S=s(S,M,E,b,f,6,l[56]),b=s(b,S,M,E,x,10,l[57]),E=s(E,b,S,M,h,15,l[58]),M=s(M,E,b,S,y,21,l[59]),S=s(S,M,E,b,p,6,l[60]),b=s(b,S,M,E,v,10,l[61]),E=s(E,b,S,M,u,15,l[62]),M=s(M,E,b,S,g,21,l[63]);i[0]=i[0]+S|0,i[1]=i[1]+M|0,i[2]=i[2]+E|0,i[3]=i[3]+b|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,s=8*t.sigBytes;n[s>>>5]|=128<<24-s%32;var a=e.floor(r/4294967296);for(n[15+(s+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),n[14+(s+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(n.length+1),this._process(),n=(t=this._hash).words,r=0;4>r;r++)s=n[r],n[r]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8);return t},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}}),a.MD5=o._createHelper(c),a.HmacMD5=o._createHmacHelper(c)}(Math),function(){var e,t=Me,n=(e=t.lib).Base,r=e.WordArray,s=(e=t.algo).EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:e.MD5,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=(o=this.cfg).hasher.create(),s=r.create(),a=s.words,i=o.keySize,o=o.iterations;a.length<i;){c&&n.update(c);var c=n.update(e).finalize(t);n.reset();for(var l=1;l<o;l++)c=n.finalize(c),n.reset();s.concat(c)}return s.sigBytes=4*i,s}});t.EvpKDF=function(e,t,n){return s.create(n).compute(e,t)}}(),Me.lib.Cipher||function(e){var t=(_=Me).lib,n=t.Base,r=t.WordArray,s=t.BufferedBlockAlgorithm,a=_.enc.Base64,i=_.algo.EvpKDF,o=t.Cipher=s.extend({cfg:n.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(t,n,r){return("string"==typeof n?h:p).encrypt(e,t,n,r)},decrypt:function(t,n,r){return("string"==typeof n?h:p).decrypt(e,t,n,r)}}}});t.StreamCipher=o.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var c=_.mode={},l=function(e,t,n){var r=this._iv;r?this._iv=void 0:r=this._prevBlock;for(var s=0;s<n;s++)e[t+s]^=r[s]},u=(t.BlockCipherMode=n.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();u.Encryptor=u.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize;l.call(this,e,t,r),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+r)}}),u.Decryptor=u.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,s=e.slice(t,t+r);n.decryptBlock(e,t),l.call(this,e,t,r),this._prevBlock=s}}),c=c.CBC=u,u=(_.pad={}).Pkcs7={pad:function(e,t){for(var n,s=(n=(n=4*t)-e.sigBytes%n)<<24|n<<16|n<<8|n,a=[],i=0;i<n;i+=4)a.push(s);n=r.create(a,n),e.concat(n)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},t.BlockCipher=o.extend({cfg:o.cfg.extend({mode:c,padding:u}),reset:function(){o.reset.call(this);var e=(t=this.cfg).iv,t=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=t.createEncryptor;else n=t.createDecryptor,this._minBufferSize=1;this._mode=n.call(t,this,e&&e.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var d=t.CipherParams=n.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),p=(c=(_.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return((e=e.salt)?r.create([1398893684,1701076831]).concat(e).concat(t):t).toString(a)},parse:function(e){var t=(e=a.parse(e)).words;if(1398893684==t[0]&&1701076831==t[1]){var n=r.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return d.create({ciphertext:e,salt:n})}},t.SerializableCipher=n.extend({cfg:n.extend({format:c}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var s=e.createEncryptor(n,r);return t=s.finalize(t),s=s.cfg,d.create({ciphertext:t,key:n,iv:s.iv,algorithm:e,mode:s.mode,padding:s.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}})),_=(_.kdf={}).OpenSSL={execute:function(e,t,n,s){return s||(s=r.random(8)),e=i.create({keySize:t+n}).compute(e,s),n=r.create(e.words.slice(t),4*n),e.sigBytes=4*t,d.create({key:e,iv:n,salt:s})}},h=t.PasswordBasedCipher=p.extend({cfg:p.cfg.extend({kdf:_}),encrypt:function(e,t,n,r){return n=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize),r.iv=n.iv,(e=p.encrypt.call(this,e,t,n.key,r)).mixIn(n),e},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),n=r.kdf.execute(n,e.keySize,e.ivSize,t.salt),r.iv=n.iv,p.decrypt.call(this,e,t,n.key,r)}})}(),function(){for(var e=Me,t=e.lib.BlockCipher,n=e.algo,r=[],s=[],a=[],i=[],o=[],c=[],l=[],u=[],d=[],p=[],_=[],h=0;256>h;h++)_[h]=128>h?h<<1:h<<1^283;var m=0,f=0;for(h=0;256>h;h++){var g=(g=f^f<<1^f<<2^f<<3^f<<4)>>>8^255&g^99;r[m]=g,s[g]=m;var w=_[m],v=_[w],k=_[v],y=257*_[g]^16843008*g;a[m]=y<<24|y>>>8,i[m]=y<<16|y>>>16,o[m]=y<<8|y>>>24,c[m]=y,y=16843009*k^65537*v^257*w^16843008*m,l[g]=y<<24|y>>>8,u[g]=y<<16|y>>>16,d[g]=y<<8|y>>>24,p[g]=y,m?(m=w^_[_[_[k^w]]],f^=_[_[f]]):m=f=1}var q=[0,1,2,4,8,16,32,64,128,27,54];n=n.AES=t.extend({_doReset:function(){for(var e=(n=this._key).words,t=n.sigBytes/4,n=4*((this._nRounds=t+6)+1),s=this._keySchedule=[],a=0;a<n;a++)if(a<t)s[a]=e[a];else{var i=s[a-1];a%t?6<t&&4==a%t&&(i=r[i>>>24]<<24|r[i>>>16&255]<<16|r[i>>>8&255]<<8|r[255&i]):(i=r[(i=i<<8|i>>>24)>>>24]<<24|r[i>>>16&255]<<16|r[i>>>8&255]<<8|r[255&i],i^=q[a/t|0]<<24),s[a]=s[a-t]^i}for(e=this._invKeySchedule=[],t=0;t<n;t++)a=n-t,i=t%4?s[a]:s[a-4],e[t]=4>t||4>=a?i:l[r[i>>>24]]^u[r[i>>>16&255]]^d[r[i>>>8&255]]^p[r[255&i]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,i,o,c,r)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,l,u,d,p,s),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,s,a,i,o){for(var c=this._nRounds,l=e[t]^n[0],u=e[t+1]^n[1],d=e[t+2]^n[2],p=e[t+3]^n[3],_=4,h=1;h<c;h++){var m=r[l>>>24]^s[u>>>16&255]^a[d>>>8&255]^i[255&p]^n[_++],f=r[u>>>24]^s[d>>>16&255]^a[p>>>8&255]^i[255&l]^n[_++],g=r[d>>>24]^s[p>>>16&255]^a[l>>>8&255]^i[255&u]^n[_++];p=r[p>>>24]^s[l>>>16&255]^a[u>>>8&255]^i[255&d]^n[_++],l=m,u=f,d=g}m=(o[l>>>24]<<24|o[u>>>16&255]<<16|o[d>>>8&255]<<8|o[255&p])^n[_++],f=(o[u>>>24]<<24|o[d>>>16&255]<<16|o[p>>>8&255]<<8|o[255&l])^n[_++],g=(o[d>>>24]<<24|o[p>>>16&255]<<16|o[l>>>8&255]<<8|o[255&u])^n[_++],p=(o[p>>>24]<<24|o[l>>>16&255]<<16|o[u>>>8&255]<<8|o[255&d])^n[_++],e[t]=m,e[t+1]=f,e[t+2]=g,e[t+3]=p},keySize:8});e.AES=t._createHelper(n)}();var Ne=Me,Oe={stringify:function(e){var t={ct:e.ciphertext.toString(Ne.enc.Base64)};return e.iv&&(t.iv=e.iv.toString()),e.salt&&(t.s=e.salt.toString()),JSON.stringify(t).replace(/\s/g,"")},parse:function(e){var t=JSON.parse(e),n=Ne.lib.CipherParams.create({ciphertext:Ne.enc.Base64.parse(t.ct)});return t.iv&&(n.iv=Ne.enc.Hex.parse(t.iv)),t.s&&(n.salt=Ne.enc.Hex.parse(t.s)),n}};var Be=e=>{let t="";if(!e.type)return t;if(!e.marked||"undefined"==e.marked)return t;switch(e.type){case"truefalse":case"single":case"survey":t=e.options[parseInt(e.marked)];break;case"multiple":if(t="",(n=e.marked.split(",")).length)for(let r=0;r<n.length;r++)t+=e.options[parseInt(n[r])]+(r+1<n.length?" , ":"");break;case"sort":case"match":if((n=e.marked.split(",")).length)for(let r=0;r<n.length;r++)"undefined"!==e.original_options[parseInt(n[r])-1]&&null!=e.original_options[parseInt(n[r])-1]&&""!=e.original_options[parseInt(n[r])-1]||(e.original_options[parseInt(n[r])-1]="____"),t+=e.original_options[parseInt(n[r])-1]+(r+1<n.length?" , ":"");break;case"select":if(t="",(n=e.marked.split("|")).length)for(let r=0;r<n.length;r++)t+=e.options[parseInt(n[r])]+(r+1<n.length?" , ":"");break;case"fillblank":case"text":var n;if(t="",(n=e.marked.split("|")).length)for(let e=0;e<n.length;e++)t+=n[e]+(e+1<n.length?" , ":"");break;case"largetext":case"smalltext":t=e.marked}return t};var ze=e=>{let t="";if(!e.type)return"";switch(e.type){case"truefalse":t=e.correct?window.wplms_course_data.translations.true:window.wplms_course_data.translations.false;break;case"single":case"survey":t=e.options[parseInt(e.correct)-1];break;case"multiple":if(t="",(n=e.correct.split(",")).length)for(let r=0;r<n.length;r++)t+=e.options[parseInt(n[r])-1]+(r+1<n.length?" , ":"");break;case"sort":case"match":if(t="",(n=e.correct.split(",")).length)for(let r=0;r<n.length;r++)t+=e.original_options[parseInt(n[r])-1]+(r+1<n.length?" , ":"");break;case"select":if(t="",(n=e.correct.split("|")).length)for(let r=0;r<n.length;r++)t+=e.options[parseInt(n[r])-1]+(r+1<n.length?" , ":"");break;case"fillblank":case"text":case"largetext":case"smalltext":var n;if(t="",(n=e.correct.split("|")).length)for(let e=0;e<n.length;e++)t+=n[e]+(e+1<n.length?" , ":"")}return t};function Ce(e){if(null==e)return!0;if(void 0===e)return!0;if("number"==typeof e)return!1;if(Array.isArray(e)||"string"==typeof e||e instanceof String)return 0===e.length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var Ie=(e,t=null,n=null,r=null,s=!0)=>{r&&(r=parseFloat(r)),n||(r=null);let a=0,i=[],o=0;e.user_marks=0;let c=0,l=null;Ce(e.correct)||(l=JSON.parse(Ne.AES.decrypt(e.correct,e.key,{format:Oe}).toString(Ne.enc.Utf8))),e.correct=l,e.marked_answer&&"undefined"!=e.marked_answer||(e.marked_answer=null);let u=e.marked_answer;switch(e.type){case"truefalse":e.marked=u,e.correct=parseInt(l),u==l?(e.user_marks=e.marks,a=1):e.user_marks=0,i.push(l);break;case"single":e.marked=u,u==l-1?(e.user_marks=e.marks,a=1):e.user_marks=0,i.push(l-1);break;case"multiple":Ce(u)&&(u=[]);var d=u;e.marked=u.join(",").slice();var p=l.split(",");if(i=p,t){if(d.length)for(let e=0;e<d.length;e++){let t=d[e]+1;t=t.toString(),-1!==p.indexOf(t)?o++:c++}a=o/p.length,e.user_marks=Math.round(e.marks*a*100)/100}else if(d.length==p.length)for(let t=0;t<d.length;t++){e.user_marks=e.marks,a=1;let n=d[t]+1;if(n=n.toString(),-1==p.indexOf(n)){e.user_marks=0,a=0;break}}break;case"match":case"sort":Ce(u)&&(u=[]),e.marked=u.join(",").slice();let n=u,r=l.split(","),s=0;if(n&&n.length){for(let t=0;t<n.length;t++){e.user_marks=e.marks,a=1;let l="";Ce(n[t])||(l=n[t].toString()),r[t]!=l?(a&&(e.user_marks=0,a=0,s=1),c++):(o++,i.push(t))}t?(a=o/r.length,e.user_marks=Math.round(e.marks*a*100)/100):s&&(e.user_marks=0,a=0)}break;case"fillblank":Ce(u)&&(u=[]),u.map((e,t)=>{u[t]=e.toLowerCase()}),e.marked=u.join("|").slice(),l=l.toLowerCase();let _=l.split("|");if(e.user_marks=0,u.length){e.user_marks=e.marks,a=1;for(let t=0;t<u.length;t++){let n="";Ce(u[t])||(n=u[t].toString());let r=[];Ce(_[t])||Array.isArray(_[t])||(r=_[t].split(",")),-1==r.indexOf(n)?(a&&(e.user_marks=0,a=0),c++):(o++,i.push(t))}t?(a=o/_.length,e.user_marks=Math.round(e.marks*a*100)/100):u.length!==_.length&&(e.user_marks=0,a=0)}break;case"select":Ce(u)&&(u=[]),e.marked=u.join("|").slice();let h=l.split("|");if(e.user_marks=0,u&&u.length){e.user_marks=e.marks,a=1;for(let t=0;t<u.length;t++){let n="";n=(parseInt(u[t])+1).toString(),n!=h[t]?(a&&(e.user_marks=0,a=0),c++):(o++,i.push(t))}t?(a=o/h.length,e.user_marks=Math.round(e.marks*a*100)/100):u.length!==h.length&&(e.user_marks=0,a=0)}break;case"smalltext":case"largetext":e.marked=u,u&&l&&u.toLowerCase()==l.toLowerCase()?(e.user_marks=e.marks,a=1):e.user_marks=0}if(!Ce(u)&&r&&(t&&c>0?e.user_marks=e.user_marks-c*r:a||(e.user_marks=e.user_marks-r)),e.auto||s||(e.user_marks=0,e.show_correct_answer=0),i&&i.length)for(var _=i.length-1;_>=0;_--)"multiple"==e.type?i[_]=parseInt(i[_]-1):i[_]=parseInt(i[_]);return e.correct_indexes=i,e.auto&&(e.usercorrect=a,e.attempted=!0),e.marked=Be(e),e.correct=ze(e),e};const{createElement:De,render:Ae,useState:He,useEffect:Fe,Fragment:Te,RawHTML:Pe}=wp.element;var Le=e=>{const[t,n]=He({}),[r,s]=He(!1);Fe(()=>{n(e.question),setTimeout(()=>{s(!0)},200)},[]);let a="incorrect",i="checked_answer incorrect";return t.hasOwnProperty("user_marks")&&t.user_marks&&parseFloat(t.user_marks)>0&&(a="correct",i="checked_answer correct"),De(Te,null,t.show_correct_answer&&void 0!==t.correct&&t.correct.length?De("div",{className:i},De("strong",null,window.wplms_course_data.translations.correct_answer,De(Pe,null,t.correct))):"",De("div",{className:r?"question_wrapper loaded":"question_wrapper"},De("div",{className:"result"},De("div",{className:a},De("span",null),De("strong",null,t.user_marks)))))};const{createElement:Re,render:je,useState:Xe,useEffect:Ye,Fragment:Je}=wp.element;var Ue=e=>{let t="",n="";return Ye(()=>{},[e.question]),e.question.hasOwnProperty("show_hint")&&e.question.show_hint?(n="question_hint_content message show",t="question_hint show"):(e.question.show_hint=0,n="question_hint_content message",t="question_hint"),Re(Je,null,e.question.hint?Re("span",{className:t,onClick:t=>{e.question.show_hint=!e.question.show_hint,e.update({...e.question},e.index,"changed")}}):"",e.question.hint?Re("span",{className:n,dangerouslySetInnerHTML:{__html:e.question.hint}}):"")};const{createElement:We,render:Ke,useState:$e,useEffect:Ge,Fragment:Qe}=wp.element,{dispatch:Ve,select:Ze}=wp.data;var et=e=>{const[t,n]=$e({}),[r,s]=$e(!1),[i,o]=$e(null);Ge(()=>{n(e.question),s(!0)},[e.question]);const c=(e,r=0,s)=>{let a={...t};"changed"==s&&(a=e,n(a),!function(e){if(null==e)return!0;if("number"==typeof e)return!0;if(Array.isArray(e)||"string"==typeof e||e instanceof String)return 0===e.length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.marked_answer)?"object"==typeof e.marked_answer||Array.isArray(e.marked_answer)?localStorage.setItem(e.id,JSON.stringify(e.marked_answer)):localStorage.setItem(e.id,e.marked_answer):null==e.marked_answer&&localStorage.removeItem(e.id))};return r?t?We(Qe,null,We("div",{className:"incourse"},We("div",{className:"quiz_questions_content"},We("div",{className:"question_cwrapper"},We("div",{className:"question","data-i":e.i},We(Ue,{question:t,update:c}),(e=>{switch(e.type){case"smalltext":return We(d,{question:e,update:c});case"single":return We(g,{question:e,update:c,quiz_id:e.id});case"select":return We(x,{question:e,update:c,quiz_id:e.id});case"multiple":return We(O,{question:e,update:c,quiz_id:e.id});case"fillblank":return We(R,{question:e,update:c,quiz_id:e.id});case"sort":return We(Z,{question:e,update:c,quiz_id:e.id});case"match":return We(pe,{question:e,update:c,quiz_id:e.id});case"truefalse":return We(we,{question:e,update:c,quiz_id:e.id});case"largetext":return We(Ee,{question:e,update:c,quiz_id:e.id})}})({...t}),t.attempted?"":We("div",{className:"quiz_check_answer button",onClick:e=>{(e=>{let t={...e};s(!1),t=Ie(t,null,null,null,!0),t.attempted=!0,s(!0),n(t)})(t)}},window.wplms_course_data.translations.check_answer),t.attempted?We(Le,{question:t}):"",t.attempted&&t.explanation.length?We("div",{className:"explanation"},We("strong",null,window.wplms_course_data.translations.question_explanation),We("div",{dangerouslySetInnerHTML:{__html:t.explanation}})):"")),t.attempted&&window.wplms_course_data.question_retries?We("div",{className:"quiz_check_answer button",onClick:e=>{(()=>{let e={...t};if(e.hasOwnProperty("original")){let t=e;e=t.original,e.original=t.original,n(e)}})()}},We("span",{className:"vicon vicon-reload"}),window.wplms_course_data.translations.retry):""))):"":We(a,null)};const{createElement:tt,render:nt,useState:rt,useEffect:st,Fragment:at}=wp.element,{dispatch:it,select:ot}=wp.data;function ct(e){if(null==e)return!0;if("number"==typeof e)return!0;if(Array.isArray(e)||"string"==typeof e||e instanceof String)return 0===e.length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var lt=e=>{const[t,n]=rt([]),[r,s]=rt(!1),[i,o]=rt(0);st(()=>{c()},[e.questions,i]);const c=()=>{s(!1);let t=`${window.wplms_course_data.api_url}/course/questions/?client_id=${window.wplms_course_data.client_id}`;e.hasOwnProperty("force")&&e.force&&(t+="?force"),fetch(t,{method:"post",headers:window.vibebp.xnonce?{"X-WP-Nonce":window.vibebp.xnonce}:{},body:JSON.stringify({questions:e.questions,page:i+1,per_page:window.wplms_course_data.practice_questions})}).then(e=>e.ok?e.json():{status:0,message:window.wplms_course_data.translations.error_loading_data}).then(e=>{if(e.status){if(e.questions){let t=[];e.questions.map(e=>{let n=localStorage.getItem(e.id);!ct(n)&&ct(e.marked_answer)&&(!function(e){try{JSON.parse(e)}catch(e){return!1}return!0}(n)?e.marked_answer=n:e.marked_answer=JSON.parse(n)),t.push(e)}),n(t)}s(!0)}else console.log(e)}).catch(e=>{s(!0),console.error("Uh oh, an error!",e),it("vibebp").addNotification({text:window.wplms_course_data.translations.error_loading_data})})};return tt("div",{className:"practice_questions"},r?t.filter((e,t)=>t<(i+1)*window.wplms_course_data.practice_questions).map(e=>tt(et,{question:e,i:i*window.wplms_course_data.practice_questions+t.indexOf(e)+1})):tt(a,null),e.questions.length>window.wplms_course_data.practice_questions?tt("div",{className:"buttons has-addons"},i>0?tt("span",{className:"button vicon vicon-angle-left",onClick:()=>{r&&o(i-1)}}):"",i<Math.floor(e.questions.length/window.wplms_course_data.practice_questions)?tt("span",{className:"button vicon vicon-angle-right",onClick:()=>{r&&o(i+1)}}):""):"")};const{createElement:ut,render:dt,useState:pt,useEffect:_t,Fragment:ht}=wp.element,{dispatch:mt,select:ft}=wp.data,gt=()=>{let e=[];document.querySelectorAll(".vibe_single_question").forEach(t=>{e.push(t.getAttribute("data-id"))}),dt(ut(lt,{questions:e,force:1}),document.querySelector(".vibe_single_question")),document.removeEventListener("DOMContentLoaded",gt,!1)};document.addEventListener("DOMContentLoaded",gt,!1)}]);