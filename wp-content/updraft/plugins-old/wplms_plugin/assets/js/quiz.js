!function(e){var t={};function n(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);const{createElement:r,useState:s,useEffect:a,Fragment:i,render:o}=wp.element;var u=({progress:e,size:t})=>{let n,s;switch(t){case"xs":n=10,s=1;break;case"s":n=12,s=1.2;break;case"sm":n=25,s=2.5;break;case"med":n=50,s=5;break;case"lg":n=75,s=7.5;break;case"xl":n=100,s=10;break;default:n=50,s=5}const a=n-2*s,i=2*a*Math.PI,o=i-e/100*i;return r("div",{className:"react-progress-circle"},r("svg",{height:2*n,width:2*n},r("circle",{className:"ReactProgressCircle_circleBackground",strokeWidth:s,style:{strokeDashoffset:o},r:a,cx:n,cy:n}),r("circle",{className:"ReactProgressCircle_circle",strokeWidth:s,strokeDasharray:i+" "+i,style:{strokeDashoffset:o},r:a,cx:n,cy:n})))};const{Component:l,createElement:c,render:d,useState:_,useEffect:m,Fragment:p}=wp.element;var h=e=>{const[t,n]=_(e.duration),[r,s]=_({d:0,h:0,m:0,s:0});m(()=>{if(e.start){setTimeout(()=>{let r=t-1;r<=-1?e.update(e.quiz_id,"expired"):r>=0&&(n(r),a())},1e3)}else n(e.duration),a()},[t,e.start,e.duration]);const a=()=>{let e={...r},n=t;n>86400?(e.d=Math.floor(n/86400),n-=86400*e.d):e.d=0,n>3600?(e.h=Math.floor(n/3600),n-=3600*e.h):e.h=0,n>60?(e.m=Math.floor(n/60),n-=60*e.m):e.m=0,e.s=n,s(e)};let i=0;return t>-1&&(i=Math.floor((e.duration-t)/e.duration*100),i<=0&&(i=1)),c("div",{className:"quiztimer"},c("div",{className:"circle_timer"},i?c(u,{size:window.innerWidth<480?"xs":"sm",progress:i}):"",c("span",null,c("span",{className:"timer_amount"},r.d?c(p,null,c("span",null,r.d),c("span",null,":")):"",r.h?c(p,null,c("span",null,r.h),c("span",null,":")):"",r.m?c(p,null,c("span",null,r.m),c("span",null,":")):"",c("span",null,r.s)),c("span",{className:"timer_unit"},r.d?c(p,null,c("span",null,window.wplms_course_data.translations.days),c("span",null)):"",r.h?c(p,null,c("span",null,window.wplms_course_data.translations.hours),c("span",null)):"",r.m?c(p,null,c("span",null,window.wplms_course_data.translations.minutes),c("span",null)):"",c("span",null,window.wplms_course_data.translations.seconds)))))};const{createElement:w,render:g,useState:f,useEffect:q,Fragment:v}=wp.element;var y=e=>{const[t,n]=f({});q(()=>{n(e.question)},[e.question]);let r="";t.hasOwnProperty("marked_answer")&&(r=t.marked_answer);let s="";return t.hasOwnProperty("usercorrect")&&t.show_correct_answer&&(s="question_incorrect",t.usercorrect>0&&(s="question_correct")),w(v,null,w("div",{className:"question_content",dangerouslySetInnerHTML:{__html:t&&t.content?t.content:""}}),w("input",{type:"text",className:s,value:r,onChange:t=>{let r={...e.question};r.marked_answer=t.target.value,n(r),e.update(r,e.index,"changed")}}))};const{createElement:k,render:b,useState:x,useEffect:z,Fragment:S}=wp.element;var N=e=>{const[t,n]=x({}),[r,s]=x([]);z(()=>{if(n(e.question),e.question.hasOwnProperty("options")&&e.question.options.length&&Array.isArray(e.question.options)){let t=[...e.question.options];window.wplms_course_data.question_option_rearrange&&a(t),s(t)}},[e.question.correct_indexes]);const a=e=>{for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}};let i="";return t.hasOwnProperty("marked_answer")&&(i=t.marked_answer),k(S,null,k("div",{className:"question_content",dangerouslySetInnerHTML:{__html:t&&t.content?t.content:""}}),t.options&&t.options.length?k(S,null,(t=>r.map((function(r,s){let a=t.options.findIndex(e=>e==r);return k("div",{className:"question_option radio "+(t.show_correct_answer&&t.correct_indexes?t.correct_indexes&&t.correct_indexes.length&&t.correct_indexes.includes(a)?"question_correct":"question_incorrect":"")},k("input",{type:"radio",name:e.quiz_id+"_"+t.id,value:a,id:e.quiz_id+"_"+t.id+a,checked:parseInt(t.marked_answer)===a,onChange:t=>{let r={...e.question};r.marked_answer=t.target.value,n(r),e.update(r,e.index,"changed")}}),k("label",{for:e.quiz_id+"_"+t.id+a,dangerouslySetInnerHTML:{__html:r}}))})))(t),t.attempted?"":k("span",{className:"resetq_answer button",onClick:t=>{let r={...e.question};r.marked_answer=null,n(r),e.update(r,e.index,"changed")}},k("i",{class:"vicon vicon-trash"}))):"")};const{createElement:O,render:P,useState:E,useEffect:I,Fragment:M}=wp.element;var C=e=>{const[t,n]=E({});I(()=>{n(e.question)},[e.question]);const r=(t,r)=>{let s={...e.question};s.marked_answer&&s.marked_answer.length||(s.marked_answer=[]),s.marked_answer[r]=t,n(s),e.update(s,e.index,"changed")},s=(t,n)=>O(M,null,O("span",{className:t.show_correct_answer&&t.correct_indexes?t.correct_indexes&&t.correct_indexes.length&&t.correct_indexes.includes(n)?"question_correct":"question_incorrect":""},O("select",{name:e.quiz_id+"_"+t.id,id:e.quiz_id+"_"+t.id,onChange:e=>{r(e.target.value,n)}},O("option",null,window.wplms_course_data.translations.select_option),((e,t)=>e.options.map((function(n,r){return e.hasOwnProperty("options_arr")&&e.options_arr&&e.options_arr.length&&e.options_arr[t]&&e.options_arr[t].length?e.options_arr[t].includes((r+1).toString())||e.options_arr[t].includes(r+1)?O("option",{value:r,selected:e.marked_answer&&e.marked_answer.length&&e.marked_answer[t]&&parseInt(e.marked_answer[t])===r,dangerouslySetInnerHTML:{__html:n}}):void 0:O("option",{value:r,selected:e.marked_answer&&e.marked_answer.length&&e.marked_answer[t]&&parseInt(e.marked_answer[t])===r,dangerouslySetInnerHTML:{__html:n}})})))(t,n))),t.attempted?"":O("span",{className:"resetq_answer button",onClick:e=>{r(null,n)}},O("i",{class:"vicon vicon-trash"})));return O(M,null,t&&t.extra_content&&Array.isArray(t.extra_content)?O("div",{className:"question_content"},t.extra_content.map((function(e,n){return O(M,null,O("span",{className:"select_question_content",dangerouslySetInnerHTML:{__html:e}}),t.options&&t.options.length&&n<t.extra_content.length-1?O(M,null,s(t,n)):"")}))):"")};const{createElement:B,render:T,useState:F,useEffect:A,Fragment:D}=wp.element;var L=e=>{const[t,n]=F({}),[r,s]=F([]);"undefined"!=e.question.marked_answer&&null!=e.question.marked_answer||(e.question.marked_answer=[]),A(()=>{if(n(e.question),e.question.hasOwnProperty("options")&&e.question.options.length&&Array.isArray(e.question.options)){let t=[...e.question.options];window.wplms_course_data.question_option_rearrange&&a(t),s(t)}},[e.question.correct_indexes]);const a=e=>{for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}};return B(D,null,B("div",{className:"question_content",dangerouslySetInnerHTML:{__html:t&&t.content?t.content:""}}),t.options&&t.options.length?B(D,null,(t=>{if(r&&r.length)return r.map((function(r,s){let a=t.options.findIndex(e=>e==r);return B("div",{className:"question_option checkbox "+(t.show_correct_answer&&t.correct_indexes?t.correct_indexes&&t.correct_indexes.length&&t.correct_indexes.includes(a)?"question_correct":"question_incorrect":"")},B("input",{type:"checkbox",name:e.quiz_id+"_"+t.id,value:a,id:e.quiz_id+"_"+t.id+a,checked:e.question.marked_answer&&e.question.marked_answer.length&&e.question.marked_answer.includes(a),onChange:t=>{let r={...e.question};if(r.marked_answer.includes(a)){let e=r.marked_answer.indexOf(a);e>-1&&r.marked_answer.splice(e,1)}else r.marked_answer.push(a);n(r),e.update(r,e.index,"changed")}}),B("label",{for:e.quiz_id+"_"+t.id+a,dangerouslySetInnerHTML:{__html:r}}))}))})(t),t.attempted?"":B("span",{className:"resetq_answer button",onClick:t=>{let r={...e.question};r.marked_answer=null,n(r),e.update(r,e.index,"changed")}},B("i",{class:"vicon vicon-trash"}))):"")};const{createElement:H,render:j,useState:R,useEffect:J,Fragment:X}=wp.element;var W=e=>{const[t,n]=R("120"),[r,s]=R(()=>{let t="";return e.marked_answer&&e.marked_answer.length&&(t=e.marked_answer[e.index]),t});J(()=>{void 0!==r&&r&&r.length>15&&n(8*r.length)},[r]);let a="";r&&(a=r);return H(X,null,H("div",{className:"fillblank_area"},H("input",{type:"text",value:a,onChange:t=>{let n=r;n=t.target.value,s(n),e.update(n,e.index,"changed")},style:{width:t+"px"}})))};const{createElement:U,render:Q,useState:Y,useEffect:$,Fragment:K}=wp.element;var V=e=>{const[t,n]=Y({});$(()=>{n(e.question)},[]);let r="";t.hasOwnProperty("marked_answer")&&(r=t.marked_answer);const s=(r,s,a)=>{if("changed"==a){let a={...t};a.marked_answer&&t.marked_answer.length||(a.marked_answer=[]),a.marked_answer[s]=r,n(a),e.update(a,e.index,"changed")}};return U(K,null,t&&t.extra_content&&Array.isArray(t.extra_content)?U("div",{className:"question_content"},t.extra_content.map((function(e,n){return U(K,null,U("span",{className:"select_question_content",dangerouslySetInnerHTML:{__html:e}}),n<t.extra_content.length-1?U("div",{className:"fillblank_area "+(t.show_correct_answer&&t.correct_indexes?t.correct_indexes&&t.correct_indexes.length&&t.correct_indexes.includes(n)?"question_correct":"question_incorrect":"")},U(W,{update:s,index:n,marked_answer:t.marked_answer})):"")}))):"")};const{createElement:G,render:Z,useState:ee,useEffect:te,Fragment:ne}=wp.element;var re=e=>{const[t,n]=ee([]),[r,s]=ee(!1),[a,i]=ee([]),[o,u]=ee([]),[l,c]=ee([]),[d,_]=ee([]);te(()=>{i(e.items)},[e.items]);let m="droppable";r&&(m+=" active");const p=e=>{let t="";return r===a[e]&&(t="dragging"),t};return G("div",{className:m},a.map((m,h)=>G("div",{key:h,onDragStart:e=>{a[h]&&s(a[h])},onDragEnd:()=>{s(!1)},onDragOver:t=>{t.preventDefault(),((t,n)=>{if(!r)return;let s=a[n];if(r===s)return;let o=[...a];o=o.filter(e=>e!=r),o.splice(n,0,r),i(o),e.update(o,"changed")})(0,h)},ref:e=>{((e,r)=>{if(e){let s=t;s[r]||(s[r]=e),n(s)}})(e,h)},draggable:"true",style:d[h],onTouchStart:e=>{let n=[...l];t.map((e,t)=>{let r=e.getBoundingClientRect();n[t]=r}),c(n),a[h]&&s(a[h])},onTouchMove:e=>{e.preventDefault();let t=[];if("touchmove"===e.type){let n=[...d];n[h]={transform:"translateY("+Math.floor(e.touches[0].clientY-l[h].top)+"px)"},_(n),t.push(a[h]);let r=[];if(e.touches[0].clientY&&l.map((n,s)=>{n.top+n.height/2>e.touches[0].clientY&&a[s]!==a[h]&&t.push(a[s]),n.bottom-n.height/2<e.touches[0].clientY&&a[s]!==a[h]&&r.push(a[s])}),r.length)for(let e=r.length-1;e>=0;e--)t.unshift(r[e]);u(t)}},onTouchEnd:t=>{i(o),e.update(o,"changed"),c([]),_([]),s(!1),u([])},className:p(h)+" "+(e.question.show_correct_answer&&e.question.correct_indexes?e.question.correct_indexes&&e.question.correct_indexes.length&&e.question.correct_indexes.includes(h)?"question_correct":"question_incorrect":"")},G("div",{dangerouslySetInnerHTML:{__html:m}}))))};const{createElement:se,render:ae,useState:ie,useEffect:oe,Fragment:ue}=wp.element;var le=e=>{e.question.id,e.quiz_id;const[t,n]=ie({}),[r,s]=ie(!1);oe(()=>{let t=e.question;if(!r&&t&&t.marked_answer&&t.marked_answer.length&&"undefined"!=t.marked_answer){let e=[];t.marked_answer.map((n,r)=>{e.push(t.original_options[parseInt(n)-1])}),t.options=e,n(t),s(!0)}n(t)},[t]);return se(ue,null,se("div",{className:"question_content",dangerouslySetInnerHTML:{__html:t&&t.content?t.content:""}}),t.options&&t.options.length?se(ue,null,se(re,{items:t.options,original_items:t.original_options,update:(r,s)=>{if("changed"==s){let s=t;s.marked_answer=[],r.map((e,t)=>{let n=s.original_options.indexOf(e);s.marked_answer.push(n+1)}),n(s),e.update(s,e.index,"changed")}},question:t}),t.attempted?"":se("span",{className:"resetq_answer button",onClick:r=>{let s={...t};s.marked_answer=null,s.options=s.original_options,n(s),e.update(s,e.index,"changed")}},se("i",{class:"vicon vicon-trash"}))):"")};const{createElement:ce,render:de,useState:_e,useEffect:me,Fragment:pe}=wp.element;function he(e){if(null==e)return!0;if(void 0===e)return!0;if("number"==typeof e)return!1;if(Array.isArray(e)||"string"==typeof e||e instanceof String)return 0===e.length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var we=e=>{const[t,n]=_e([]),[r,s]=_e(!1),[a,i]=_e([]),[o,u]=_e(""),[l,c]=_e([]),[d,_]=_e(e.matches),[m,p]=_e([]),[h,w]=_e([]),[g,f]=_e([]),[q,v]=_e({}),[y,k]=_e([]),[b,x]=_e([]),[z,S]=_e([]),[N,O]=_e({x:0,y:0}),[P,E]=_e([]);me(()=>{let t=[...e.items];e.question&&e.question.marked_answer&&e.question.marked_answer.length&&e.question.marked_answer.map(n=>{n&&"NaN"!=typeof n&&(t=t.filter(t=>t!=e.question.original_options[n-1]))}),c(t);let n=[];e.question&&e.question.marked_answer&&e.question.marked_answer.length&&e.question.marked_answer.map(e=>{parseFloat(e)-1>=0?n.push(e-1):n.push(null)}),S(n),e.update(!1,"reset")},[e.items,e.reset]);let I="droppable";r&&(I+=" active");const M=e=>{let t="";return r===l[e]&&(t="dragging"),t};return ce("div",{className:"match_playground"},ce("div",{className:"match_options"},d&&d.length?d.map((n,u)=>ce("div",{key:u,className:"match_option "+(e.question.show_correct_answer&&e.question.correct_indexes?e.question.correct_indexes&&e.question.correct_indexes.length&&e.question.correct_indexes.includes(u)?"question_correct":"question_incorrect":""),onDrop:t=>{((t,n)=>{if(!r)return;if(P.index===n)return;let s=[...l],a=[...z];if(!a[n]&&0!==a[n]){s=s.filter(e=>e!=r);let t=e.original_items.indexOf(r);d&&d.length&&d.map((e,t)=>{he(a[t])&&(a[t]=null)}),he(n)||(a[n]=t),S(a),c(s),e.update(a,"changed")}})(0,u)},onDragOver:e=>{e.preventDefault()},ref:e=>{((e,t)=>{if(e){let n=a;n[t]||(n[t]=e),i(n)}})(e,u)}},ce("div",{dangerouslySetInnerHTML:{__html:n}}),ce("div",{className:"children"},e.original_items&&null!=z[u]&&e.original_items[z[u]]?ce("div",{key:"droppablediv"+u,draggable:"true",onDragStart:t=>{e.original_items[z[u]]&&(s(e.original_items[z[u]]),E({index:u,source:"droppablediv"}))},onDragEnd:()=>{s(!1),E({})},onDragOver:e=>{e.preventDefault()},className:M(u),style:b[z[u]],onTouchStart:n=>{let r=[...h];t.map((e,t)=>{let n=e.getBoundingClientRect();r[t]=n}),w(r);let i=[...g];a.map((e,t)=>{let n=e.getBoundingClientRect();i[t]=n}),f(i),v(o.getBoundingClientRect()),e.original_items[z[u]]&&(s(e.original_items[z[u]]),E({index:u,source:"droppablediv"})),E({})},onTouchMove:e=>{if(e&&(e.preventDefault(),"touchmove"===e.type)){let t=[...b];t[z[u]]={position:"fixed",top:Math.floor(e.touches[0].clientY)+"px",left:Math.floor(e.touches[0].clientX)+"px"},x(t),O({x:e.touches[0].clientX,y:e.touches[0].clientY})}},onTouchEnd:t=>{let n=[...l],a=[...z];q.top<N.y&&q.top+q.height>N.y&&q.left<N.x&&q.left+q.width>N.x&&(n.push(r),a.map((e,t)=>{e==z[u]&&(a[t]=null)})),f([]),v({}),s(!1),x([]),k([]),c(n),S(a),e.update(a,"changed"),O({x:0,y:0})}},ce("div",{dangerouslySetInnerHTML:{__html:e.original_items[z[u]]}})):""))):""),ce("div",{className:I,onDragOver:e=>{e.preventDefault()},onDrop:t=>{(t=>{if("droppablediv"!==P.source)return;if(!r)return;let n=[...l],s=[...z];n.includes(r)||n.push(r),c(n),he(P.index)||(s[P.index]=null),S(s),e.update(s,"changed")})()},ref:e=>{var t;(t=e)&&u(t)}},l&&l.length?l.map((r,i)=>ce("div",{key:"draggablediv"+i,onDragStart:e=>{l[i]&&s(l[i]),E({})},onDragEnd:()=>{s(!1),E({})},onDragOver:e=>{e.preventDefault()},ref:e=>{((e,r)=>{if(e){let s=t;s[r]||(s[r]=e),n(s)}})(e,i)},draggable:"true",style:y[i],onTouchStart:e=>{let n=[...h];t.map((e,t)=>{let r=e.getBoundingClientRect();n[t]=r}),w(n);let i=[...g];a.map((e,t)=>{let n=e.getBoundingClientRect();i[t]=n}),f(i),r&&s(r),E({})},onTouchMove:e=>{if(e.preventDefault(),"touchmove"===e.type){let t=[...y];t[i]={position:"fixed",top:Math.floor(e.touches[0].clientY)+"px",left:Math.floor(e.touches[0].clientX)+"px"},k(t),O({x:e.touches[0].clientX,y:e.touches[0].clientY})}},onTouchEnd:t=>{k([]);let n=[...l],a=[...z];g.map((t,s)=>{if(t.top<N.y&&t.top+t.height>N.y&&t.left<N.x&&t.left+t.width>N.x){let t=e.original_items.indexOf(r);t>=0&&!a[s]&&0!==a[s]&&(a[s]=t,n=n.filter(e=>e!=r))}}),f([]),s(!1),c(n),S(a),e.update(a,"changed"),O({x:0,y:0})},className:M(i)},ce("div",{dangerouslySetInnerHTML:{__html:r}}))):""))};const{createElement:ge,render:fe,useState:qe,useEffect:ve,Fragment:ye}=wp.element;var ke=e=>{e.question.id,e.quiz_id;const[t,n]=qe({}),[r,s]=qe(!1);ve(()=>{n(e.question)},[t]);return ge(ye,null,ge("div",{className:"question_content"},ge("div",{className:"question_statement",dangerouslySetInnerHTML:{__html:t&&t.extra_content&&t.extra_content.statement?t.extra_content.statement:""}}),t.options&&t.options.length&&t.content.match&&t.content.match.length?ge(we,{matches:t.extra_content.match,original_matches:t.extra_content.match,items:t.options,original_items:t.original_options,update:(r,a)=>{if("changed"==a){let s={...t};s.marked_answer=[],r.map(e=>{s.marked_answer.push(parseInt(e)+1)}),n(s),e.update(s,e.index,"changed")}"reset"==a&&s(!1)},reset:r,question:t}):"",ge("div",{className:"question_end",dangerouslySetInnerHTML:{__html:t&&t.content&&t.content.end?t.content.end:""}})),t.attempted?"":ge("span",{className:"resetq_answer button",onClick:r=>{s(!0);let a={...t};a.marked_answer=null,a.options=a.original_options,n(a),e.update(a,e.index,"changed")}},ge("i",{class:"vicon vicon-trash"})))};const{createElement:be,render:xe,useState:ze,useEffect:Se,Fragment:Ne}=wp.element;var Oe=e=>{const[t,n]=ze(e.question);let r="";return t.hasOwnProperty("marked_answer")&&(r=t.marked_answer),be(Ne,null,be("div",{className:"question_content",dangerouslySetInnerHTML:{__html:t&&t.content?t.content:""}}),t.options&&t.options.length?be(Ne,null,(t=>t.options.map((function(r,s){return be("div",{className:"question_option radio "+(t.show_correct_answer&&t.correct_indexes?t.correct_indexes&&t.correct_indexes.length&&t.correct_indexes.includes(s)?"question_correct":"question_incorrect":"")},be("input",{type:"radio",name:e.quiz_id+"_"+t.id,value:s,id:e.quiz_id+"_"+t.id+s,checked:parseInt(t.marked_answer)===s,onChange:t=>{let r={...e.question};r.marked_answer=t.target.value,n(r),e.update(r,e.index,"changed")}}),be("label",{for:e.quiz_id+"_"+t.id+s,dangerouslySetInnerHTML:{__html:r}}))})))(t),t.attempted?"":be("span",{className:"resetq_answer button",onClick:t=>{let r={...e.question};r.marked_answer=null,n(r)}},be("i",{class:"vicon vicon-trash"}))):"")};const{createElement:Pe,render:Ee,useState:Ie,useEffect:Me,Fragment:Ce}=wp.element;var Be,Te,Fe=e=>{const[t,n]=Ie({});Me(()=>{n(e.question)},[e.question]);let r="";t.hasOwnProperty("marked_answer")&&(r=t.marked_answer);let s="";return t.hasOwnProperty("usercorrect")&&t.show_correct_answer&&(s="question_incorrect",t.usercorrect>0&&(s="question_correct")),Pe(Ce,null,Pe("div",{className:"question_content",dangerouslySetInnerHTML:{__html:t&&t.content?t.content:""}}),Pe("textarea",{className:s,type:"text",onChange:t=>{let r={...e.question};r.marked_answer=t.target.value,n(r),e.update(r,e.index,"changed")},value:r},r))},Ae=Ae||function(e,t){var n={},r=n.lib={},s=function(){},a=r.Base={extend:function(e){s.prototype=this;var t=new s;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},i=r.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes;if(e=e.sigBytes,this.clamp(),r%4)for(var s=0;s<e;s++)t[r+s>>>2]|=(n[s>>>2]>>>24-s%4*8&255)<<24-(r+s)%4*8;else if(65535<n.length)for(s=0;s<e;s+=4)t[r+s>>>2]=n[s>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],r=0;r<t;r+=4)n.push(4294967296*e.random()|0);return new i.init(n,t)}}),o=n.enc={},u=o.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;r<e;r++){var s=t[r>>>2]>>>24-r%4*8&255;n.push((s>>>4).toString(16)),n.push((15&s).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new i.init(n,t/2)}},l=o.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;r<e;r++)n.push(String.fromCharCode(t[r>>>2]>>>24-r%4*8&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new i.init(n,t)}},c=o.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},d=r.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new i.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,s=n.sigBytes,a=this.blockSize,o=s/(4*a);if(t=(o=t?e.ceil(o):e.max((0|o)-this._minBufferSize,0))*a,s=e.min(4*t,s),t){for(var u=0;u<t;u+=a)this._doProcessBlock(r,u);u=r.splice(0,t),n.sigBytes-=s}return new i.init(u,s)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});r.Hasher=d.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new _.HMAC.init(e,n).finalize(t)}}});var _=n.algo={};return n}(Math);Te=(Be=Ae).lib.WordArray,Be.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp(),e=[];for(var s=0;s<n;s+=3)for(var a=(t[s>>>2]>>>24-s%4*8&255)<<16|(t[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|t[s+2>>>2]>>>24-(s+2)%4*8&255,i=0;4>i&&s+.75*i<n;i++)e.push(r.charAt(a>>>6*(3-i)&63));if(t=r.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var t=e.length,n=this._map;(r=n.charAt(64))&&-1!=(r=e.indexOf(r))&&(t=r);for(var r=[],s=0,a=0;a<t;a++)if(a%4){var i=n.indexOf(e.charAt(a-1))<<a%4*2,o=n.indexOf(e.charAt(a))>>>6-a%4*2;r[s>>>2]|=(i|o)<<24-s%4*8,s++}return Te.create(r,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(e){function t(e,t,n,r,s,a,i){return((e=e+(t&n|~t&r)+s+i)<<a|e>>>32-a)+t}function n(e,t,n,r,s,a,i){return((e=e+(t&r|n&~r)+s+i)<<a|e>>>32-a)+t}function r(e,t,n,r,s,a,i){return((e=e+(t^n^r)+s+i)<<a|e>>>32-a)+t}function s(e,t,n,r,s,a,i){return((e=e+(n^(t|~r))+s+i)<<a|e>>>32-a)+t}for(var a=Ae,i=(u=a.lib).WordArray,o=u.Hasher,u=a.algo,l=[],c=0;64>c;c++)l[c]=4294967296*e.abs(e.sin(c+1))|0;u=u.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,a){for(var i=0;16>i;i++){var o=e[u=a+i];e[u]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}i=this._hash.words;var u=e[a+0],c=(o=e[a+1],e[a+2]),d=e[a+3],_=e[a+4],m=e[a+5],p=e[a+6],h=e[a+7],w=e[a+8],g=e[a+9],f=e[a+10],q=e[a+11],v=e[a+12],y=e[a+13],k=e[a+14],b=e[a+15],x=t(x=i[0],N=i[1],S=i[2],z=i[3],u,7,l[0]),z=t(z,x,N,S,o,12,l[1]),S=t(S,z,x,N,c,17,l[2]),N=t(N,S,z,x,d,22,l[3]);x=t(x,N,S,z,_,7,l[4]),z=t(z,x,N,S,m,12,l[5]),S=t(S,z,x,N,p,17,l[6]),N=t(N,S,z,x,h,22,l[7]),x=t(x,N,S,z,w,7,l[8]),z=t(z,x,N,S,g,12,l[9]),S=t(S,z,x,N,f,17,l[10]),N=t(N,S,z,x,q,22,l[11]),x=t(x,N,S,z,v,7,l[12]),z=t(z,x,N,S,y,12,l[13]),S=t(S,z,x,N,k,17,l[14]),x=n(x,N=t(N,S,z,x,b,22,l[15]),S,z,o,5,l[16]),z=n(z,x,N,S,p,9,l[17]),S=n(S,z,x,N,q,14,l[18]),N=n(N,S,z,x,u,20,l[19]),x=n(x,N,S,z,m,5,l[20]),z=n(z,x,N,S,f,9,l[21]),S=n(S,z,x,N,b,14,l[22]),N=n(N,S,z,x,_,20,l[23]),x=n(x,N,S,z,g,5,l[24]),z=n(z,x,N,S,k,9,l[25]),S=n(S,z,x,N,d,14,l[26]),N=n(N,S,z,x,w,20,l[27]),x=n(x,N,S,z,y,5,l[28]),z=n(z,x,N,S,c,9,l[29]),S=n(S,z,x,N,h,14,l[30]),x=r(x,N=n(N,S,z,x,v,20,l[31]),S,z,m,4,l[32]),z=r(z,x,N,S,w,11,l[33]),S=r(S,z,x,N,q,16,l[34]),N=r(N,S,z,x,k,23,l[35]),x=r(x,N,S,z,o,4,l[36]),z=r(z,x,N,S,_,11,l[37]),S=r(S,z,x,N,h,16,l[38]),N=r(N,S,z,x,f,23,l[39]),x=r(x,N,S,z,y,4,l[40]),z=r(z,x,N,S,u,11,l[41]),S=r(S,z,x,N,d,16,l[42]),N=r(N,S,z,x,p,23,l[43]),x=r(x,N,S,z,g,4,l[44]),z=r(z,x,N,S,v,11,l[45]),S=r(S,z,x,N,b,16,l[46]),x=s(x,N=r(N,S,z,x,c,23,l[47]),S,z,u,6,l[48]),z=s(z,x,N,S,h,10,l[49]),S=s(S,z,x,N,k,15,l[50]),N=s(N,S,z,x,m,21,l[51]),x=s(x,N,S,z,v,6,l[52]),z=s(z,x,N,S,d,10,l[53]),S=s(S,z,x,N,f,15,l[54]),N=s(N,S,z,x,o,21,l[55]),x=s(x,N,S,z,w,6,l[56]),z=s(z,x,N,S,b,10,l[57]),S=s(S,z,x,N,p,15,l[58]),N=s(N,S,z,x,y,21,l[59]),x=s(x,N,S,z,_,6,l[60]),z=s(z,x,N,S,q,10,l[61]),S=s(S,z,x,N,c,15,l[62]),N=s(N,S,z,x,g,21,l[63]);i[0]=i[0]+x|0,i[1]=i[1]+N|0,i[2]=i[2]+S|0,i[3]=i[3]+z|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,s=8*t.sigBytes;n[s>>>5]|=128<<24-s%32;var a=e.floor(r/4294967296);for(n[15+(s+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),n[14+(s+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(n.length+1),this._process(),n=(t=this._hash).words,r=0;4>r;r++)s=n[r],n[r]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8);return t},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}}),a.MD5=o._createHelper(u),a.HmacMD5=o._createHmacHelper(u)}(Math),function(){var e,t=Ae,n=(e=t.lib).Base,r=e.WordArray,s=(e=t.algo).EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:e.MD5,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=(o=this.cfg).hasher.create(),s=r.create(),a=s.words,i=o.keySize,o=o.iterations;a.length<i;){u&&n.update(u);var u=n.update(e).finalize(t);n.reset();for(var l=1;l<o;l++)u=n.finalize(u),n.reset();s.concat(u)}return s.sigBytes=4*i,s}});t.EvpKDF=function(e,t,n){return s.create(n).compute(e,t)}}(),Ae.lib.Cipher||function(e){var t=(m=Ae).lib,n=t.Base,r=t.WordArray,s=t.BufferedBlockAlgorithm,a=m.enc.Base64,i=m.algo.EvpKDF,o=t.Cipher=s.extend({cfg:n.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(t,n,r){return("string"==typeof n?p:_).encrypt(e,t,n,r)},decrypt:function(t,n,r){return("string"==typeof n?p:_).decrypt(e,t,n,r)}}}});t.StreamCipher=o.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var u=m.mode={},l=function(e,t,n){var r=this._iv;r?this._iv=void 0:r=this._prevBlock;for(var s=0;s<n;s++)e[t+s]^=r[s]},c=(t.BlockCipherMode=n.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();c.Encryptor=c.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize;l.call(this,e,t,r),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+r)}}),c.Decryptor=c.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,s=e.slice(t,t+r);n.decryptBlock(e,t),l.call(this,e,t,r),this._prevBlock=s}}),u=u.CBC=c,c=(m.pad={}).Pkcs7={pad:function(e,t){for(var n,s=(n=(n=4*t)-e.sigBytes%n)<<24|n<<16|n<<8|n,a=[],i=0;i<n;i+=4)a.push(s);n=r.create(a,n),e.concat(n)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},t.BlockCipher=o.extend({cfg:o.cfg.extend({mode:u,padding:c}),reset:function(){o.reset.call(this);var e=(t=this.cfg).iv,t=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=t.createEncryptor;else n=t.createDecryptor,this._minBufferSize=1;this._mode=n.call(t,this,e&&e.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var d=t.CipherParams=n.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),_=(u=(m.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return((e=e.salt)?r.create([1398893684,1701076831]).concat(e).concat(t):t).toString(a)},parse:function(e){var t=(e=a.parse(e)).words;if(1398893684==t[0]&&1701076831==t[1]){var n=r.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return d.create({ciphertext:e,salt:n})}},t.SerializableCipher=n.extend({cfg:n.extend({format:u}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var s=e.createEncryptor(n,r);return t=s.finalize(t),s=s.cfg,d.create({ciphertext:t,key:n,iv:s.iv,algorithm:e,mode:s.mode,padding:s.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}})),m=(m.kdf={}).OpenSSL={execute:function(e,t,n,s){return s||(s=r.random(8)),e=i.create({keySize:t+n}).compute(e,s),n=r.create(e.words.slice(t),4*n),e.sigBytes=4*t,d.create({key:e,iv:n,salt:s})}},p=t.PasswordBasedCipher=_.extend({cfg:_.cfg.extend({kdf:m}),encrypt:function(e,t,n,r){return n=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize),r.iv=n.iv,(e=_.encrypt.call(this,e,t,n.key,r)).mixIn(n),e},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),n=r.kdf.execute(n,e.keySize,e.ivSize,t.salt),r.iv=n.iv,_.decrypt.call(this,e,t,n.key,r)}})}(),function(){for(var e=Ae,t=e.lib.BlockCipher,n=e.algo,r=[],s=[],a=[],i=[],o=[],u=[],l=[],c=[],d=[],_=[],m=[],p=0;256>p;p++)m[p]=128>p?p<<1:p<<1^283;var h=0,w=0;for(p=0;256>p;p++){var g=(g=w^w<<1^w<<2^w<<3^w<<4)>>>8^255&g^99;r[h]=g,s[g]=h;var f=m[h],q=m[f],v=m[q],y=257*m[g]^16843008*g;a[h]=y<<24|y>>>8,i[h]=y<<16|y>>>16,o[h]=y<<8|y>>>24,u[h]=y,y=16843009*v^65537*q^257*f^16843008*h,l[g]=y<<24|y>>>8,c[g]=y<<16|y>>>16,d[g]=y<<8|y>>>24,_[g]=y,h?(h=f^m[m[m[v^f]]],w^=m[m[w]]):h=w=1}var k=[0,1,2,4,8,16,32,64,128,27,54];n=n.AES=t.extend({_doReset:function(){for(var e=(n=this._key).words,t=n.sigBytes/4,n=4*((this._nRounds=t+6)+1),s=this._keySchedule=[],a=0;a<n;a++)if(a<t)s[a]=e[a];else{var i=s[a-1];a%t?6<t&&4==a%t&&(i=r[i>>>24]<<24|r[i>>>16&255]<<16|r[i>>>8&255]<<8|r[255&i]):(i=r[(i=i<<8|i>>>24)>>>24]<<24|r[i>>>16&255]<<16|r[i>>>8&255]<<8|r[255&i],i^=k[a/t|0]<<24),s[a]=s[a-t]^i}for(e=this._invKeySchedule=[],t=0;t<n;t++)a=n-t,i=t%4?s[a]:s[a-4],e[t]=4>t||4>=a?i:l[r[i>>>24]]^c[r[i>>>16&255]]^d[r[i>>>8&255]]^_[r[255&i]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,i,o,u,r)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,l,c,d,_,s),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,s,a,i,o){for(var u=this._nRounds,l=e[t]^n[0],c=e[t+1]^n[1],d=e[t+2]^n[2],_=e[t+3]^n[3],m=4,p=1;p<u;p++){var h=r[l>>>24]^s[c>>>16&255]^a[d>>>8&255]^i[255&_]^n[m++],w=r[c>>>24]^s[d>>>16&255]^a[_>>>8&255]^i[255&l]^n[m++],g=r[d>>>24]^s[_>>>16&255]^a[l>>>8&255]^i[255&c]^n[m++];_=r[_>>>24]^s[l>>>16&255]^a[c>>>8&255]^i[255&d]^n[m++],l=h,c=w,d=g}h=(o[l>>>24]<<24|o[c>>>16&255]<<16|o[d>>>8&255]<<8|o[255&_])^n[m++],w=(o[c>>>24]<<24|o[d>>>16&255]<<16|o[_>>>8&255]<<8|o[255&l])^n[m++],g=(o[d>>>24]<<24|o[_>>>16&255]<<16|o[l>>>8&255]<<8|o[255&c])^n[m++],_=(o[_>>>24]<<24|o[l>>>16&255]<<16|o[c>>>8&255]<<8|o[255&d])^n[m++],e[t]=h,e[t+1]=w,e[t+2]=g,e[t+3]=_},keySize:8});e.AES=t._createHelper(n)}();var De=Ae,Le={stringify:function(e){var t={ct:e.ciphertext.toString(De.enc.Base64)};return e.iv&&(t.iv=e.iv.toString()),e.salt&&(t.s=e.salt.toString()),JSON.stringify(t).replace(/\s/g,"")},parse:function(e){var t=JSON.parse(e),n=De.lib.CipherParams.create({ciphertext:De.enc.Base64.parse(t.ct)});return t.iv&&(n.iv=De.enc.Hex.parse(t.iv)),t.s&&(n.salt=De.enc.Hex.parse(t.s)),n}};var He=e=>{let t="";if(!e.type)return t;if(!e.marked||"undefined"==e.marked)return t;switch(e.type){case"truefalse":case"single":case"survey":t=e.options[parseInt(e.marked)];break;case"multiple":if(t="",(n=e.marked.split(",")).length)for(let r=0;r<n.length;r++)t+=e.options[parseInt(n[r])]+(r+1<n.length?" , ":"");break;case"sort":case"match":if((n=e.marked.split(",")).length)for(let r=0;r<n.length;r++)"undefined"!==e.original_options[parseInt(n[r])-1]&&null!=e.original_options[parseInt(n[r])-1]&&""!=e.original_options[parseInt(n[r])-1]||(e.original_options[parseInt(n[r])-1]="____"),t+=e.original_options[parseInt(n[r])-1]+(r+1<n.length?" , ":"");break;case"select":if(t="",(n=e.marked.split("|")).length)for(let r=0;r<n.length;r++)t+=e.options[parseInt(n[r])]+(r+1<n.length?" , ":"");break;case"fillblank":case"text":var n;if(t="",(n=e.marked.split("|")).length)for(let e=0;e<n.length;e++)t+=n[e]+(e+1<n.length?" , ":"");break;case"largetext":case"smalltext":t=e.marked}return t};var je=e=>{let t="";if(!e.type)return"";switch(e.type){case"truefalse":t=e.correct?window.wplms_course_data.translations.true:window.wplms_course_data.translations.false;break;case"single":case"survey":t=e.options[parseInt(e.correct)-1];break;case"multiple":if(t="",(n=e.correct.split(",")).length)for(let r=0;r<n.length;r++)t+=e.options[parseInt(n[r])-1]+(r+1<n.length?" , ":"");break;case"sort":case"match":if(t="",(n=e.correct.split(",")).length)for(let r=0;r<n.length;r++)t+=e.original_options[parseInt(n[r])-1]+(r+1<n.length?" , ":"");break;case"select":if(t="",(n=e.correct.split("|")).length)for(let r=0;r<n.length;r++)t+=e.options[parseInt(n[r])-1]+(r+1<n.length?" , ":"");break;case"fillblank":case"text":case"largetext":case"smalltext":var n;if(t="",(n=e.correct.split("|")).length)for(let e=0;e<n.length;e++)t+=n[e]+(e+1<n.length?" , ":"")}return t};function Re(e){if(null==e)return!0;if(void 0===e)return!0;if("number"==typeof e)return!1;if(Array.isArray(e)||"string"==typeof e||e instanceof String)return 0===e.length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var Je=(e,t=null,n=null,r=null,s=!0)=>{r&&(r=parseFloat(r)),n||(r=null);let a=0,i=[],o=0;e.user_marks=0;let u=0,l=null;Re(e.correct)||(l=JSON.parse(De.AES.decrypt(e.correct,e.key,{format:Le}).toString(De.enc.Utf8))),e.correct=l,e.marked_answer&&"undefined"!=e.marked_answer||(e.marked_answer=null);let c=e.marked_answer;switch(e.type){case"truefalse":e.marked=c,e.correct=parseInt(l),c==l?(e.user_marks=e.marks,a=1):e.user_marks=0,i.push(l);break;case"single":e.marked=c,c==l-1?(e.user_marks=e.marks,a=1):e.user_marks=0,i.push(l-1);break;case"multiple":Re(c)&&(c=[]);var d=c;e.marked=c.join(",").slice();var _=l.split(",");if(i=_,t){if(d.length)for(let e=0;e<d.length;e++){let t=d[e]+1;t=t.toString(),-1!==_.indexOf(t)?o++:u++}a=o/_.length,e.user_marks=Math.round(e.marks*a*100)/100}else if(d.length==_.length)for(let t=0;t<d.length;t++){e.user_marks=e.marks,a=1;let n=d[t]+1;if(n=n.toString(),-1==_.indexOf(n)){e.user_marks=0,a=0;break}}break;case"match":case"sort":Re(c)&&(c=[]),e.marked=c.join(",").slice();let n=c,r=l.split(","),s=0;if(n&&n.length){for(let t=0;t<n.length;t++){e.user_marks=e.marks,a=1;let l="";Re(n[t])||(l=n[t].toString()),r[t]!=l?(a&&(e.user_marks=0,a=0,s=1),u++):(o++,i.push(t))}t?(a=o/r.length,e.user_marks=Math.round(e.marks*a*100)/100):s&&(e.user_marks=0,a=0)}break;case"fillblank":Re(c)&&(c=[]),c.map((e,t)=>{c[t]=e.toLowerCase()}),e.marked=c.join("|").slice(),l=l.toLowerCase();let m=l.split("|");if(e.user_marks=0,c.length){e.user_marks=e.marks,a=1;for(let t=0;t<c.length;t++){let n="";Re(c[t])||(n=c[t].toString());let r=[];Re(m[t])||Array.isArray(m[t])||(r=m[t].split(",")),-1==r.indexOf(n)?(a&&(e.user_marks=0,a=0),u++):(o++,i.push(t))}t?(a=o/m.length,e.user_marks=Math.round(e.marks*a*100)/100):c.length!==m.length&&(e.user_marks=0,a=0)}break;case"select":Re(c)&&(c=[]),e.marked=c.join("|").slice();let p=l.split("|");if(e.user_marks=0,c&&c.length){e.user_marks=e.marks,a=1;for(let t=0;t<c.length;t++){let n="";n=(parseInt(c[t])+1).toString(),n!=p[t]?(a&&(e.user_marks=0,a=0),u++):(o++,i.push(t))}t?(a=o/p.length,e.user_marks=Math.round(e.marks*a*100)/100):c.length!==p.length&&(e.user_marks=0,a=0)}break;case"smalltext":case"largetext":e.marked=c,c&&l&&c.toLowerCase()==l.toLowerCase()?(e.user_marks=e.marks,a=1):e.user_marks=0}if(!Re(c)&&r&&(t&&u>0?e.user_marks=e.user_marks-u*r:a||(e.user_marks=e.user_marks-r)),e.auto||s||(e.user_marks=0,e.show_correct_answer=0),i&&i.length)for(var m=i.length-1;m>=0;m--)"multiple"==e.type?i[m]=parseInt(i[m]-1):i[m]=parseInt(i[m]);return e.correct_indexes=i,e.auto&&(e.usercorrect=a,e.attempted=!0),e.marked=He(e),e.correct=je(e),e};const{createElement:Xe,render:We,useState:Ue,useEffect:Qe,Fragment:Ye,RawHTML:$e}=wp.element;var Ke=e=>{const[t,n]=Ue({}),[r,s]=Ue(!1);Qe(()=>{n(e.question),setTimeout(()=>{s(!0)},200)},[]);let a="incorrect",i="checked_answer incorrect";return t.hasOwnProperty("user_marks")&&t.user_marks&&parseFloat(t.user_marks)>0&&(a="correct",i="checked_answer correct"),Xe(Ye,null,t.show_correct_answer&&void 0!==t.correct&&t.correct.length?Xe("div",{className:i},Xe("strong",null,window.wplms_course_data.translations.correct_answer,Xe($e,null,t.correct))):"",Xe("div",{className:r?"question_wrapper loaded":"question_wrapper"},Xe("div",{className:"result"},Xe("div",{className:a},Xe("span",null),Xe("strong",null,t.user_marks)))))};const{createElement:Ve,render:Ge,useState:Ze,useEffect:et,Fragment:tt}=wp.element;const{createElement:nt,render:rt,useState:st,useEffect:at,Fragment:it}=wp.element;var ot=e=>{const[t,n]=st({}),[r,s]=st([]);at(()=>{n(e.quiz),s(e.currentQuestions)},[e.quiz,e.currentQuestions]);let a=[];if(t.hasOwnProperty("meta")&&t.meta.hasOwnProperty("questions")&&t.meta.questions&&t.meta.questions.length&&(a=t.meta.questions),a.length)if(null!==e.filter)switch(e.filter){case"wrong":a=a.filter(e=>!e.hasOwnProperty("user_marks")||!e.user_marks||parseFloat(e.user_marks)<=0);break;case"correct":a=a.filter(e=>e.hasOwnProperty("user_marks")&&e.user_marks&&parseFloat(e.user_marks)>0);break;case"bookmarked":a=a.filter(t=>e.bookMarked.indexOf(t.id)>-1)}else a=t.meta.questions;return nt("div",{className:"quiz_timeline"},nt("div",{class:t&&t.meta&&t.meta.questions&&t.meta.questions.length>=10?"timeline_wrapper question_numbers":"timeline_wrapper"},nt("ul",null,t&&t.meta&&t.meta.questions&&t.meta.questions.length?a.map((n,a)=>{let i="";return e.bookMarked.indexOf(n.id)>-1&&(i+=" bookmarked"),("undefined"!=n.marked_answer&&null!=n.marked_answer||Array.isArray(n.marked_answer)&&n.marked_answer.length)&&(i+=" done",n.hasOwnProperty("attempted")&&n.attempted&&(n.hasOwnProperty("user_marks")&&n.user_marks&&parseFloat(n.user_marks)>0?i+=" correct":i+=" incorrect")),-1!==r.indexOf(a)&&(i+=" active"),nt("li",{className:i,"data-number":window.wplms_course_data.translations.question_prefix+(a+1)},nt("span",{onClick:n=>{((n,a,i)=>{n.preventDefault();let o=[...r],u=[];if(t.question_number&&"undefined"!=t.question_number&&t.question_number>0){if(-1!==o.indexOf(i))return;let e=Math.ceil((i+1)/t.question_number),n=e*t.question_number-t.question_number,r=e*t.question_number;for(let e=n;e<r;e++)u.push(e);s(u)}e.update(u,"show")})(n,0,a)}},n.marks))}):"",t&&t.meta&&t.meta.questions&&t.meta.questions.length?nt("span",{className:"hide_questions",onClick:e.hideQuestions},nt("span",{class:"vicon vicon-angle-double-left"}),nt("span",null,window.wplms_course_data.translations.hide_questions)):"")))};const{createElement:ut,render:lt,useState:ct,useEffect:dt,Fragment:_t}=wp.element;const{createElement:mt,render:pt,useState:ht,useEffect:wt,Fragment:gt}=wp.element;var ft=e=>{const[t,n]=ht({}),[r,s]=ht([]),[a,i]=ht(1);wt(()=>{if(n(e.quiz),s(e.currentQuestions),e.currentQuestions.length){let t=Math.ceil((e.currentQuestions[0]+1)/e.quiz.question_number);i(t)}const t=document.createElement("script");t.src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js",t.async=!0,t.onload=()=>{document.dispatchEvent(new Event("VibeBP_Editor_Content"))},document.body.appendChild(t)},[e.quiz,e.currentQuestions]),wt(()=>{n(e.quiz),o(null,1)},[e.filter]),wt(()=>{"bookmarked"==e.filter&&e.questions.length&&r.length&&e.questions.length<=r[r.length-1]&&o(null,e.questions.length)},[e.bookMarked]);const o=(n,r)=>{if(n&&n.preventDefault(),a===r)return;let o=[],u=r*t.question_number-t.question_number,l=r*t.question_number;for(let e=u;e<l;e++)o.push(e);s(o),e.update(o,"show"),i(r)},u=(n=null,i)=>{n&&n.preventDefault();let o=[...r],u=[];if(t.question_number&&"undefined"!=t.question_number&&t.question_number>0)if(i>0){let n;n=t.question_number+o[o.length]>e.questions.length?e.questions.length:o[o.length-1]+t.question_number+1;for(let e=o[o.length-1]+1;e<n;e++)u.push(e);let r=a;r++,s(u)}else{for(let e=o[0]-1;e>=o[0]-t.question_number;e--)u.unshift(e);let e=a;e--,s(u)}e.update(u,"show")};return t&&t.meta&&e.questions&&e.questions.length?mt("div",{class:"quiz_pagination_wrapper buttons has-addons"},e.questions[r[0]-1]&&"undefined"!=e.questions[r[0]-1]?mt("span",{href:"#",className:"button ques_link left prevq",onClick:e=>{u(e,-1)}},mt("i",{className:"vicon vicon-angle-left","aria-hidden":"true"})):mt("span",{href:"#",className:"button ques_link left prevq faded"},mt("i",{className:"vicon vicon-angle-left","aria-hidden":"true"})),(()=>{let n=Math.ceil(e.questions.length/t.question_number),r=n,s=[],i=0;if(n>1)for(;n;)if(n){let e=n;a==e?s.unshift(mt("span",{className:"button active",onClick:t=>{o(t,e)}},n)):(a-1>=1||a+1<=r)&&(a-1==e||a+1==e||1==e||e==r?s.unshift(mt("span",{className:"button",onClick:t=>{o(t,e)}},n)):i<2&&(s.unshift(mt("span",{className:"button"},"...")),i++)),n--}return s})(),e.questions[r[r.length-1]+1]&&"undefined"!=e.questions[r[r.length-1]+1]?mt("span",{href:"#",className:"button ques_link right nextq",onClick:e=>{u(e,1)}},mt("i",{className:"vicon vicon-angle-right","aria-hidden":"true"})):mt("span",{href:"#",className:"button ques_link right nextq faded"},mt("i",{className:"vicon vicon-angle-right","aria-hidden":"true"}))):""};const{createElement:qt,render:vt,useState:yt,useEffect:kt,Fragment:bt,RawHTML:xt}=wp.element;var zt=e=>qt(bt,null,e.active?qt("div",{className:"confirmpopup_wrapper"},qt("div",{className:"confirmpopup_content"},qt("div",{dangerouslySetInnerHTML:{__html:e.content}}),qt("div",{className:"buttons_wrapper"},qt("span",{className:"button",onClick:t=>{e.yesfunction,e.update(e.type,"trigger")}},e.yes),qt("span",{className:"button",onClick:t=>{e.update(e.type,"nottrigger")}},e.no)))):"");const{createElement:St,render:Nt,useState:Ot,useEffect:Pt,Fragment:Et}=wp.element;function It(e){if(null==e)return!0;if(void 0===e)return!0;if("number"==typeof e)return!1;if(Array.isArray(e)||"string"==typeof e||e instanceof String)return 0===e.length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var Mt=e=>{const[t,n]=Ot(e.quiz),[r,s]=Ot(!1),[a,i]=Ot(""),[o,u]=Ot({}),[l,c]=Ot({});return Pt(()=>{let t=0,n=0,r=0,s=0;if(e.quiz&&e.quiz.meta&&e.quiz.meta.questions&&(e.quiz.meta.questions.map((e,a)=>{e.hasOwnProperty("usercorrect")&&e.hasOwnProperty("marked_answer")&&!It(e.marked_answer)?parseInt(e.usercorrect)>0?t++:n++:r++,s++}),c({correct:t,incorrect:n,ommitted:r}),""!=a)){let e={datasets:[{data:[t,n,r],backgroundColor:["#82c362","#dc6a6a","#5381ab"]}],labels:[window.wplms_course_data.translations.correct+" ("+t+") ("+Math.round(t/s*100)+"%)",window.wplms_course_data.translations.incorrect+" ("+n+") ("+Math.round(n/s*100)+"%)",window.wplms_course_data.translations.unattempted+" ("+r+") ("+Math.round(r/s*100)+"%)"]},i=new Chart(a,{type:"pie",data:e});u(i)}},[a]),St("div",{className:"quiz_stats_chart"},t&&t.meta&&t.meta.questions&&t.meta.questions.length&&t.submitted?St(Et,null,o&&l?St("div",{className:"quiz_stats_chart_pie"},St("canvas",{ref:e=>{e&&""==a&&i(e)}})):"",St("div",{className:"question_stats_content_wrapper"},St("span",{className:"question_stats_content_heading"},window.wplms_course_data.translations.historical),St("div",{className:"question_stats_content"},t.meta.questions.map((e,t)=>{if(e.hasOwnProperty("correct_data"))return St("div",{className:e.hasOwnProperty("user_marks")&&e.user_marks&&parseFloat(e.user_marks)>0?"checked_answer correct":"checked_answer incorrect"},St("span",null,window.wplms_course_data.translations.q,t+1),St("span",null,e.correct_data,"%"))})),t.hasOwnProperty("tags_data")&&!It(t.tags_data)?St(Et,null,St("span",{className:"question_stats_content_heading"},window.wplms_course_data.translations.correct_by_tag),St("div",{className:"question_stats_content"},t.tags_data.map(e=>St("div",{className:"checked_answer correct"},St("span",{dangerouslySetInnerHTML:{__html:e.label}}),St("span",null,e.value,"%"))))):"")):"")};const{createElement:Ct,render:Bt,useState:Tt,useEffect:Ft,Fragment:At}=wp.element,{dispatch:Dt,select:Lt}=wp.data;var Ht=e=>{const[t,n]=Tt([]),[r,s]=Tt(null),[a,i]=Tt(!0),[o,u]=Tt(null),[l,c]=Tt(!1);Ft(()=>{let e=Lt("vibebp").getToken();!function(e){if(null==e)return!0;if("number"==typeof e)return!0;if(Array.isArray(e)||"string"==typeof e||e instanceof String)return 0===e.length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)?(d(e),s(e)):localforage.getItem("bp_login_token").then(t=>{e=t,d(e),s(e)})},[e.quizid]);const d=t=>{fetch(window.wplms_course_data.api_url+"/user/quiz/previousresults/"+e.quizid,{method:"post",headers:window.vibebp.xnonce?{"X-WP-Nonce":window.vibebp.xnonce}:{},body:JSON.stringify({token:t})}).then(e=>e.ok?e.json():{status:0,message:window.wplms_course_data.translations.error_loading_data}).then(e=>{e&&e.length&&n(e),i(!1)}).catch(e=>{i(!1),console.error("Uh oh, an error!",e),Dt("vibebp").addNotification({text:window.wplms_course_data.translations.error_loading_data})})};return a?"":Ct("div",{className:"previous_results_wrapper"},Ct("h3",{className:"subtitle",onClick:()=>{c(!l)}},Ct("span",null,window.wplms_course_data.translations.previous_results)," ",Ct("span",{className:l?"vicon vicon-minus":"vicon vicon-plus"})),l?o&&o.hasOwnProperty("id")?Ct("div",{className:"single_quiz_result quiz_results"},Ct("span",{className:"vicon vicon-arrow-left",onClick:()=>{u(null)}}),Ct(dn,{quizid:e.quizid,activity:o.id})):Ct("div",null,t.length?Ct("ul",{className:"quiz_results"},t.map(e=>Ct("li",{className:"result",onClick:()=>{u(e)}},Ct("span",{dangerouslySetInnerHTML:{__html:e.content}})))):Ct("div",{className:"vbp_message message"},window.wplms_course_data.translations.results_not_available)):"")};const{createElement:jt,render:Rt}=wp.element;var Jt=e=>jt("div",{class:"lds-ellipsis"},jt("div",null),jt("div",null),jt("div",null),jt("div",null));const{createElement:Xt,useState:Wt,useEffect:Ut,Fragment:Qt,render:Yt,useRef:$t}=wp.element,{dispatch:Kt,select:Vt}=wp.data;const{createElement:Gt,render:Zt,useState:en,useEffect:tn,useCallback:nn,useRef:rn,Fragment:sn,useLayoutEffect:an}=wp.element,{dispatch:on,select:un}=wp.data;function ln(e){if(null==e)return!0;if("number"==typeof e)return!0;if(Array.isArray(e)||"string"==typeof e||e instanceof String)return 0===e.length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function cn(e){try{JSON.parse(e)}catch(e){return!1}return!0}var dn=e=>{const[t,n]=en({}),[r,s]=en("quiz"),[a,i]=en([]),o=rn(null),u=rn(null),[l,c]=en({}),[d,_]=en("up"),[m,p]=en(!1),[w,g]=en(!1),[f,q]=en(!1),[v,k]=en(!0),[b,x]=en(null),[z,S]=en(null),[O,P]=en([]),[E,I]=en([]);tn(()=>{let t=un("vibebp").getToken();ln(t)?localforage.getItem("bp_login_token").then(e=>{t=e,D(t),x(t)}):(D(t),x(t)),document.addEventListener("wplms_answer_question_type",({detail:e})=>{H(e.question,e.index,"changed")}),localforage.getItem("bookmarked_questions_"+e.quizid).then(e=>{e&&e.length&&P(JSON.parse(e))})},[e.quizid]),tn(()=>{e&&e.hasOwnProperty("non_logged_in_quiz")&&e.non_logged_in_quiz&&!b&&t.hasOwnProperty("id")&&(localStorage.setItem("vibequiz_"+t.id,JSON.stringify(t)),document.querySelector(".start_quiz_button")?document.querySelector(".start_quiz_button").remove():document.dispatchEvent(new Event("VibeBP_Editor_Content")))},[t]);const M=(B=e=>{let t=window.scrollY;if(!u||!u.current)return;let n=u.current.getBoundingClientRect();void 0!==e.target.scrollTop?(t=e.target.scrollTop,o&&o.current<t?_("down"):n.top<t&&_("up")):o&&o.current>t?_("up"):n.top<=t&&_("down"),o.current=t},T=200,function(){var e=this,t=arguments,n=function(){A=null,F||B.apply(e,t)},r=F&&!A;clearTimeout(A),A=setTimeout(n,T),r&&B.apply(e,t)});var B,T,F,A;an(()=>{if(!r){if(document.querySelector(".course_status"))return document.querySelector(".course_status").addEventListener("scroll",M,{passive:!1}),()=>{document.querySelector(".course_status").removeEventListener("scroll",M)};if(document.querySelector(".incourse"))return window.addEventListener("scroll",M,{passive:!1}),()=>{window.removeEventListener("scroll",M)}}});const D=(t=null)=>{t||(t=b),s("quiz");let r={token:t};if(e.hasOwnProperty("activity")&&e.activity&&(r.activity=e.activity),e.hasOwnProperty("course")&&e.course&&(r.course=e.course),e.hasOwnProperty("non_logged_in_quiz")&&e.non_logged_in_quiz&&!t){let r=localStorage.getItem("vibequiz_"+e.quizid),o="";if(void 0!==r&&r){if(o=JSON.parse(r),o){if(S(null),o.hasOwnProperty("drip_message"))n(o);else if(o.meta&&o.meta.questions){let r=0,s=0;if("object"==typeof o.meta.questions&&!Array.isArray(o.meta.questions)){let e=[];Object.keys(o.meta.questions).map(t=>{"object"==typeof o.meta.questions[t]&&(o.meta.questions[t].id=t,e.push(o.meta.questions[t]),e.id=t)}),o.meta.questions=e}o.meta.questions.map((e,t)=>{if(e.raw)o.meta.questions[t]=e.raw;else{o.meta.questions[t].show=!1;let n=localStorage.getItem(e.id);!ln(n)&&ln(e.marked_answer)&&(cn(n)?e.marked_answer=JSON.parse(n):e.marked_answer=n)}r+=parseFloat(e.user_marks),s+=parseInt(e.marks)}),Number.isInteger(r)||(r=r.toFixed(2)),o.marks=r,o.max_marks=s,o.question_number=parseInt(o.question_number);let a=[];if(o.question_number&&o.question_number>0)for(let e=0;e<o.question_number;e++)a.push(e);if(i(a),e.hasOwnProperty("non_logged_in_quiz")&&e.non_logged_in_quiz&&!t){let t=localStorage.getItem("quiz_expiry_"+e.quizid);if(void 0!==t&&t){let e=Math.floor((new Date).getTime()/1e3);e>=parseInt(t)?J(o):o.remaining=parseInt(t)-e}}n(o)}var a=document.createEvent("Event");a.initEvent("unit_traverse",!1,!0),document.querySelector(".unit_content")&&document.querySelector(".unit_content")&&document.querySelector(".unit_content").dispatchEvent(a)}else console.log(o);return void s(!1)}}let o=window.wplms_course_data.api_url+"/user/quiz/"+e.quizid;e.hasOwnProperty("non_logged_in_quiz")&&e.non_logged_in_quiz&&!t&&(o=window.wplms_course_data.api_url+"/quiz/nonloggedin/"+e.quizid+"?client_id="+window.wplms_course_data.client_id),e.hasOwnProperty("force")&&e.force&&(o+="?force"),fetch(o,{method:"post",headers:window.vibebp.xnonce?{"X-WP-Nonce":window.vibebp.xnonce}:{},body:JSON.stringify(r)}).then(e=>e.ok?e.json():{status:0,message:window.wplms_course_data.translations.error_loading_data}).then(e=>{if(e){if(S(null),e.hasOwnProperty("drip_message"))n(e);else if(e.meta&&e.meta.questions){let t=0,r=0;if("object"==typeof e.meta.questions&&!Array.isArray(e.meta.questions)){let t=[];Object.keys(e.meta.questions).map(n=>{"object"==typeof e.meta.questions[n]&&(e.meta.questions[n].id=n,t.push(e.meta.questions[n]),t.id=n)}),e.meta.questions=t}e.meta.questions.map((n,s)=>{if(n.raw)e.meta.questions[s]=n.raw;else{e.meta.questions[s].show=!1;let t=localStorage.getItem(n.id);!ln(t)&&ln(n.marked_answer)&&(cn(t)?n.marked_answer=JSON.parse(t):n.marked_answer=t);try{JSON.parse(n.correct),n.attempted&&(e.meta.questions[s].correct=JSON.parse(De.AES.decrypt(n.correct,n.key,{format:Le}).toString(De.enc.Utf8)),n.correct=je(n))}catch(e){console.log(e)}}t+=parseFloat(n.marks),r+=parseInt(n.max_marks)}),Number.isInteger(t)||(t=t.toFixed(2)),isNaN(r)||(e.marks=t,e.max_marks=r),e.question_number=parseInt(e.question_number);let s=[];if(e.question_number&&e.question_number>0)for(let t=0;t<e.question_number;t++)s.push(t);i(s);let a=Math.floor((new Date).getTime()/1e3);e.hasOwnProperty("expiry")&&e.expiry>0&&(e.expiry>a?e.remaining=parseInt(e.expiry)-a:e.remaining=0),n(e)}e.remaining&&e.remaining<=0&&J(e,t);var r=document.createEvent("Event");r.initEvent("unit_traverse",!1,!0),document.querySelector(".unit_content")&&document.querySelector(".unit_content")&&document.querySelector(".unit_content").dispatchEvent(r)}else console.log(e);s(!1)}).catch(e=>{s(!1),console.error("Uh oh, an error!",e),on("vibebp").addNotification({text:window.wplms_course_data.translations.error_loading_data})})},H=(e,r,s)=>{if("changed"==s){let s={...t};s.meta.questions[r]=e,n(s),ln(e.marked_answer)?null==e.marked_answer&&localStorage.removeItem(e.id):"object"==typeof e.marked_answer||Array.isArray(e.marked_answer)?localStorage.setItem(e.id,JSON.stringify(e.marked_answer)):localStorage.setItem(e.id,e.marked_answer)}},j=(e,t)=>{"show"==t&&i(e)},R=()=>{s("start");let r={...t};if(r.start=!0,r.remaining&&r.remaining>0)s(!1),n(r);else{let t={quiz_id:r.id,token:b};if(e.hasOwnProperty("course")&&(t.course=e.course),r.hasOwnProperty("non_logged_in_quiz")&&r.non_logged_in_quiz&&!b)return s(!1),localStorage.setItem("quiz_expiry_"+r.id,Math.floor((new Date).getTime()/1e3)+r.meta.duration),n(r),void Y(r);fetch(window.wplms_course_data.api_url+"/user/quiz/start?post",{method:"POST",headers:window.vibebp.xnonce?{"X-WP-Nonce":window.vibebp.xnonce}:{},body:JSON.stringify(t)}).then(e=>e.ok?e.json():{status:0,message:window.wplms_course_data.translations.error_loading_data}).then(e=>{s(!1),n(r),Y(r);let t=window.wplms_course_data.api_url+"/student/quiz";U(t),e.hasOwnProperty("message")&&on("vibebp").addNotification({text:e.message})}).catch(e=>{s(!1),console.error("Uh oh, an error!",e),on("vibebp").addNotification({text:window.wplms_course_data.translations.error_loading_data})})}},J=(r=null,a=null)=>{P([]),localforage.removeItem("bookmarked_questions_"+e.quizid),r||(r=t),a||ln(b)||(a=b),localStorage.removeItem("quiz_expiry_"+r.id),s("submit");let i={...r},o=0,u=0;if(i.meta&&i.meta.questions&&i.meta.questions.length)for(let e=0;e<i.meta.questions.length;e++)i.meta.questions[e].attempted||(i.meta.questions[e]=Je(i.meta.questions[e],t.partial_marking,t.negative_marking,parseFloat(t.negative_marks),!1)),i.meta.questions[e].content=i.meta.questions[e].original_content,i.meta.questions[e].auto||(i.meta.questions[e].user_marks=0),o+=parseFloat(i.meta.questions[e].user_marks),u+=parseInt(i.meta.questions[e].marks),localStorage.removeItem(i.meta.questions[e].id);if(i.marks=o.toFixed(2),i.max_marks=u,i.hasOwnProperty("remaining")&&delete i.remaining,e.hasOwnProperty("non_logged_in_quiz")&&e.non_logged_in_quiz)return i.submitted=!0,i.start=!1,void n(i);fetch(window.wplms_course_data.api_url+"/user/submitresult?post",{method:"POST",headers:window.vibebp.xnonce?{"X-WP-Nonce":window.vibebp.xnonce}:{},body:JSON.stringify({quiz_id:i.id,course_id:i.hasOwnProperty("course_id")?i.course_id:e.hasOwnProperty("course")?e.course:"",results:i.meta.questions,quiz:i,token:a})}).then(e=>e.ok?e.json():{status:0,message:window.wplms_course_data.translations.error_loading_data}).then(t=>{if(t){if(s(!1),i.submitted=!0,i.start=!1,t.check_results_url&&(i.check_results_url=t.check_results_url),t.hasOwnProperty("retakes")&&void 0!==t.retakes&&(i.hasOwnProperty("meta")&&void 0!==i.meta||(i.meta={}),i.meta.retakes=t.retakes),t.completion_message&&(i.meta.completion_message=t.completion_message),t.retake_html&&(i.retake_html=t.retake_html),i.meta&&i.meta.questions&&i.meta.questions.length&&!ln(t.correct_data))for(let e=0;e<i.meta.questions.length;e++)t.correct_data.hasOwnProperty(i.meta.questions[e].id)&&(i.meta.questions[e].correct_data=t.correct_data[i.meta.questions[e].id]);t.hasOwnProperty("tags_data")&&(i.tags_data=t.tags_data),n(i);var r=document.createEvent("Event");if(r.initEvent("unit_traverse",!1,!0),i.hasOwnProperty("quiz_passing_score")&&i.quiz_passing_score?t.hasOwnProperty("continue")&&t.continue&&e.hasOwnProperty("update")&&e.update("quizsubmitted"):e.hasOwnProperty("update")&&e.update("quizsubmitted"),document.querySelector(".unit_content")&&document.querySelector(".unit_content")){document.querySelector(".unit_content").dispatchEvent(r);var a=new CustomEvent("react_quiz_submitted",{detail:{next_unit:t.next_unit}});document.dispatchEvent(a)}Q(i);let o=window.wplms_course_data.api_url+"/user/quiz/previousresults/"+e.quizid;U(o,!0);let u=window.wplms_course_data.api_url+"/student/quiz";U(u);let l=`${window.wplms_course_data.api_url}/instructor/stats/${e.quizid}`;U(l);let c=`${window.wplms_course_data.api_url}/instructor/leaderboard/${e.quizid}`;U(c),t.hasOwnProperty("message")&&on("vibebp").addNotification({text:t.message})}}).catch(e=>{s(!1),console.error("Uh oh, an error!",e),on("vibebp").addNotification({text:window.wplms_course_data.translations.error_loading_data})})},X=(e,n)=>{switch(e.type){case"smalltext":return Gt(y,{question:e,index:n,update:H});case"single":return Gt(N,{question:e,index:n,update:H,quiz_id:t.id});case"select":return Gt(C,{question:e,index:n,update:H,quiz_id:t.id});case"multiple":return Gt(L,{question:e,index:n,update:H,quiz_id:t.id});case"fillblank":return Gt(V,{question:e,index:n,update:H,quiz_id:t.id});case"sort":return Gt(le,{question:e,index:n,update:H,quiz_id:t.id});case"match":return Gt(ke,{question:e,index:n,update:H,quiz_id:t.id});case"truefalse":return Gt(Oe,{question:e,index:n,update:H,quiz_id:t.id});case"largetext":return Gt(Fe,{question:e,index:n,update:H,quiz_id:t.id});default:let r=1e3*Math.random();return document.dispatchEvent(new CustomEvent("wplms_load_question_type",{detail:{question:e,update:H,quiz_id:t.id,index:n,keyref:r}})),Gt("div",{"data-q":e.id,className:e.type,"data-keyref":r})}},W=(e,n)=>{if("trigger"==n)switch(e){case"submit":J(t),g(!1),q(!1);break;case"start":R(),p(!1)}if("nottrigger"==n)switch(e){case"submit":g(!1),q(!1);break;case"start":p(!1)}},U=(e,t=null,n=null)=>n&&!navigator.onLine?new Promise((e,t)=>{t(0)}):"undefined"!=typeof localforage&&window.vibebp.api.sw_enabled&&navigator.onLine?t?localforage.removeItem(e):localforage.iterate((function(t,n,r){e.length&&n.length&&n.includes(e)&&localforage.removeItem(n)})):new Promise(e=>{e(1)}),Q=t=>{let n=window.wplms_course_data.api_url+"/user/quiz/"+e.quizid;e.hasOwnProperty("non_logged_in_quiz")&&e.non_logged_in_quiz&&!b&&(n=window.wplms_course_data.api_url+"/quiz/nonloggedin/"+e.quizid+"?client_id="+window.wplms_course_data.client_id),"undefined"!=typeof localforage&&window.vibebp.api.sw_enabled&&localforage.getItem(n).then(e=>{e&&e.length&&(e=JSON.parse(e)).hasOwnProperty("meta")&&(e=t,localforage.setItem(n,JSON.stringify(e)))})},Y=n=>{let r=window.wplms_course_data.api_url+"/user/quiz/"+e.quizid;e.hasOwnProperty("non_logged_in_quiz")&&e.non_logged_in_quiz&&!b&&(r=window.wplms_course_data.api_url+"/quiz/nonloggedin/"+e.quizid+"?client_id="+window.wplms_course_data.client_id),"undefined"!=typeof localforage&&window.vibebp.api.sw_enabled&&localforage.getItem(r).then(e=>{e&&e.length&&(e=JSON.parse(e)).hasOwnProperty("meta")&&(n.expiry=Math.round((new Date).getTime()/1e3)+parseInt(t.meta.duration),e=n,localforage.setItem(r,JSON.stringify(e)))})};let $=0;t.meta&&t.meta.duration&&($=t.meta.duration),t&&t.remaining&&t.remaining>0&&($=t.remaining);let K="",G="loading_quiz";r||(K="disabled",G+=" disabled");let Z=window.wplms_course_data.translations.submit_quiz_confirm;if(t.meta&&t.meta.questions){let e=1;t.meta.questions.map((function(t){t.marked_answer||(e=0)})),e||(Z=window.wplms_course_data.translations.unanswered_confirm+Z)}let ee=[];if(t.hasOwnProperty("meta")&&t.meta.hasOwnProperty("questions")&&t.meta.questions&&t.meta.questions.length&&(ee=t.meta.questions),ee.length&&null!==z)switch(z){case"wrong":ee=ee.filter(e=>!e.hasOwnProperty("user_marks")||!e.user_marks||parseFloat(e.user_marks)<=0);break;case"correct":ee=ee.filter(e=>e.hasOwnProperty("user_marks")&&e.user_marks&&parseFloat(e.user_marks)>0);break;case"bookmarked":ee=ee.filter(e=>O.indexOf(e.id)>-1)}return"quiz"!==r?t&&t.hasOwnProperty("drip_message")?Gt(sn,null,t&&t.hasOwnProperty("drip_time")?Gt(DripTimer,{start:!0,duration:t.drip_time,update:(e,t)=>{"expired"==t&&D()},quiz_id:t.id}):"",Gt("div",{className:"quiz_content",dangerouslySetInnerHTML:{__html:t&&t.hasOwnProperty("drip_message")?t.drip_message:""}})):Gt(sn,null,Gt(zt,{active:w,update:W,type:"submit",content:Z,yes:window.wplms_course_data.translations.yes,no:window.wplms_course_data.translations.no,yesfunction:"submitQuiz"}),ReactDOM.createPortal(Gt(zt,{active:f,update:W,type:"submit",content:window.wplms_course_data.translations.bookmark_confirm,yes:window.wplms_course_data.translations.yes,no:window.wplms_course_data.translations.no,yesfunction:"submitQuiz"}),document.querySelector("#quiz_popup")),Gt(zt,{active:m,update:W,type:"start",content:window.wplms_course_data.translations.start_quiz_confirm,yes:window.wplms_course_data.translations.yes,no:window.wplms_course_data.translations.no,yesfunction:"startQuiz"}),Gt("div",{className:"incourse"},Gt("div",{className:G},Gt("div",{id:"ajaxloader",className:K})),e.hasOwnProperty("activity")?t.submitted?Gt("h3",null,Gt("span",{className:"student_score"},t.meta.auto?t.marks+"/"+t.max_marks:""),t.quiz_passing_score?Gt("span",null,t.marks>t.quiz_passing_score?window.wplms_course_data.translations.passed:window.wplms_course_data.translations.failed):""):"":Gt("div",{className:"up"==d?"incoursequiz_details show_controls":"incoursequiz_details hide_controls",ref:u},Gt("div",null,t.submitted?Gt("strong",{onClick:()=>{_("up"==d?"down":"up")}},Gt("span",{className:"student_score"},t.meta.auto?t.marks+"/"+t.max_marks:""),t.quiz_passing_score?Gt("span",null,t.marks>t.quiz_passing_score?window.wplms_course_data.translations.passed:window.wplms_course_data.translations.failed):"",Gt("span",{className:"student_quiz_status"},window.wplms_course_data.translations.quiz_submitted)):Gt("div",{className:"quiztimer_wrapper",onClick:()=>{_("up"==d?"down":"up")}},t&&t.meta&&t.meta.duration&&parseInt(t.meta.duration)<863913600?Gt(h,{duration:$,update:(e,n)=>{"expired"==n&&J(t)},quiz_id:t.id,start:t.start}):Gt("strong",null,window.wplms_course_data.translations.no_time_limit)),t&&t.meta&&t.meta.questions&&t.meta.questions.length&&!v?Gt("span",{className:"show_questions",onClick:()=>k(!0)},Gt("span",null,window.wplms_course_data.translations.show_questions),Gt("span",{className:"vicon vicon-angle-double-right"})):"",t&&t.meta&&t.meta.questions&&t.meta.questions.length&&t.submitted?Gt("div",{className:"buttons has-addons small"},Gt("a",{className:"correct"==z?"button tip end is-focused":"button tip",title:window.wplms_course_data.translations.show_correct_attempts,onClick:()=>{S("correct"!=z?"correct":null)}},Gt("span",{className:"vicon vicon-check"})),Gt("a",{className:"wrong"==z?"button tip end is-focused":"button tip",title:window.wplms_course_data.translations.show_wrong_attempts,onClick:()=>{S("wrong"!=z?"wrong":null)}},Gt("span",{className:"vicon vicon-close"}))):"",t&&t.meta&&t.meta.questions&&t.meta.questions.length&&O.length?Gt("div",{className:"buttons has-addons"},Gt("a",{className:"bookmarked"==z?"button tip end is-focused":"button tip",title:window.wplms_course_data.translations.show_bookmarked,onClick:()=>{S("bookmarked"!=z?"bookmarked":null)}},Gt("span",{className:"vicon vicon-bookmark-alt"}))):"",!t.submitted||t.meta&&t.meta.retakes>0?Gt("div",{className:"incourse_quiz_button"},t.start||t.submitted?"":t.remaining&&t.remaining>0?Gt("a",{className:"continue_quiz button is-primary",onClick:R},window.wplms_course_data.translations.continue):t&&t.meta&&t.meta.hasOwnProperty("check_access")&&"object"!=typeof t.meta.check_access&&t.meta.check_access.hasOwnProperty("status")&&!t.meta.check_access.status?Gt("div",{className:"check_quiz",dangerouslySetInnerHTML:{__html:t.meta.check_access.html}}):Gt("a",{className:"start"===r?"start_quiz button full is-primary is-loading":"start_quiz  full button is-primary",onClick:()=>{window.wplms_course_data.start_popup?p(!0):R()}},window.wplms_course_data.translations.start),t.start&&!t.submitted&&(!e.hasOwnProperty("non_logged_in_quiz")||e.hasOwnProperty("non_logged_in_quiz")&&!e.non_logged_in_quiz)?Gt("a",{className:"save"===r?"save_quiz button is-primary is-loading":"save_quiz button is-primary",onClick:()=>{if(t.meta.questions&&t.meta.questions.length){s("save");let e=[];t.meta.questions.map((t,n)=>{let r={...t};null==r.marked_answer||"undefined"==r.marked_answer||ln(r.marked_answer)||t.attempted||(r.correct=je(r),e.push(r))}),fetch(window.wplms_course_data.api_url+"/user/savequiz?post",{method:"POST",headers:window.vibebp.xnonce?{"X-WP-Nonce":window.vibebp.xnonce}:{},body:JSON.stringify({quiz_id:t.id,questions:e,token:b})}).then(e=>e.ok?e.json():{status:0,message:window.wplms_course_data.translations.error_loading_data}).then(e=>{s(!1),e.hasOwnProperty("message")&&on("vibebp").addNotification({text:e.message})}).catch(e=>{s(!1),console.error("Uh oh, an error!",e),on("vibebp").addNotification({text:window.wplms_course_data.translations.error_loading_data})})}}},window.wplms_course_data.translations.save_quiz):"",t.start&&!t.submitted&&(()=>{if(t&&t.hasOwnProperty("hide_submit_button")&&t.hide_submit_button){if(a&&a.length&&t.hasOwnProperty("meta")&&t.meta&&t.meta.hasOwnProperty("questions")&&t.meta.questions&&t.meta.questions.length){return a.indexOf(t.meta.questions.length-1)>-1}return!0}return!0})()?Gt("a",{className:"submit"===r?"submit_quiz button is-primary is-loading":"submit_quiz button is-primary",onClick:()=>{window.wplms_course_data.submit_popup?g(!0):O.length?q(!0):J()}},window.wplms_course_data.translations.submit):"",!t.start&&t.submitted&&t.meta&&t.meta.retakes>0?Gt("div",{className:"quiz_retake",onClick:()=>(()=>{t.hasOwnProperty("non_logged_in_quiz")&&t.non_logged_in_quiz&&!b&&localStorage.removeItem("vibequiz_"+t.id),s("retake");let n={token:b};if(e.hasOwnProperty("course")&&(n.course=e.course),e.hasOwnProperty("non_logged_in_quiz")&&e.non_logged_in_quiz)return localStorage.removeItem("vibequiz_"+e.quizid),void D();let r=window.wplms_course_data.api_url+"/user/quiz/"+e.quizid;e.hasOwnProperty("non_logged_in_quiz")&&e.non_logged_in_quiz&&!b&&(r=window.wplms_course_data.api_url+"/quiz/nonloggedin/"+e.quizid+"?client_id="+window.wplms_course_data.client_id),U(r,!0,!0).then(t=>{fetch(window.wplms_course_data.api_url+"/user/coursestatus/retake_single_quiz/"+e.quizid+"?post",{method:"post",headers:window.vibebp.xnonce?{"X-WP-Nonce":window.vibebp.xnonce}:{},body:JSON.stringify(n)}).then(e=>e.json()).then(t=>{t&&(t.status?(D(),e.hasOwnProperty("update")&&e.update("retake_quiz")):t.message&&(on("vibebp").addNotification({icon:"",text:t.message}),s(!1)))})}).catch(e=>{console.log(e),navigator&&!navigator.onLine&&(on("vibebp").addNotification({text:window.wplms_course_data.translations.could_not_retake_offline}),s(!1))})})()},Gt("a",{className:"retake"===r?"retake_quiz button is-primary is-loading":"retake_quiz button is-primary"},window.wplms_course_data.translations.retake),Gt("strong",null,window.wplms_course_data.translations.retakes_left," : ",t.meta.retakes)):""):""),v?Gt(ot,{hideQuestions:()=>k(!1),quiz:t,currentQuestions:a,update:j,filter:z,bookMarked:O}):""),Gt("div",{className:"quiz_questions_content"},Gt("div",{className:""},t.start||t.submitted?"":Gt("div",{className:"quiz_content",dangerouslySetInnerHTML:{__html:t&&t.content?t.content:""}}),!t.start&&t.submitted?Gt("div",{className:""},Gt("div",{className:"quiz_content",dangerouslySetInnerHTML:{__html:t.meta.completion_message}}),!t.start&&t.submitted&&t.retake_html?Gt("div",{dangerouslySetInnerHTML:{__html:t.retake_html}}):""):"",t.start||!t.submitted||e.hasOwnProperty("activity")?"":!e.hasOwnProperty("non_logged_in_quiz")||e.hasOwnProperty("non_logged_in_quiz")&&!e.non_logged_in_quiz?Gt(Ht,{quizid:e.quizid}):"",t&&t.meta&&t.meta.questions&&t.submitted&&t.meta.auto&&t.show_advance_stats&&!e.hasOwnProperty("activity")?Gt(Mt,{quiz:t}):"",t&&t.meta&&ee&&(t.start||t.submitted)?ee.map((i,o)=>{if(-1===a.indexOf(o))return;let u="",l="";return i.hasOwnProperty("show_hint")&&i.show_hint?(l="question_hint_content message show",u="question_hint show"):(l="question_hint_content message",u="question_hint"),Gt("div",{className:"question"},Gt("div",{className:"question_actions"},Gt("span",null,window.wplms_course_data.translations.question_full_prefix," ",o+1),Gt("div",null,Gt("span",{className:"marks"},Gt("i",{className:"vicon vicon-medall"}),i.marks),!e.hasOwnProperty("non_logged_in_quiz")||e.hasOwnProperty("non_logged_in_quiz")&&!e.non_logged_in_quiz?Gt("span",{className:E.indexOf(i.id)>-1?"is-loading":i.flagged?"flagged":"flag",onClick:()=>{((e,r)=>{let s=[...E];s.indexOf(e.id)<=-1&&s.push(e.id),I(s),fetch(window.wplms_course_data.api_url+"/user/question/flag/"+e.id+"?post",{method:"post",headers:window.vibebp.xnonce?{"X-WP-Nonce":window.vibebp.xnonce}:{},body:JSON.stringify({token:b,flagged:e.hasOwnProperty("flagged")&&e.flagged})}).then(e=>e.ok?e.json():{status:0,message:window.wplms_course_data.translations.error_loading_data}).then(a=>{if(a)if(a.status){let a=s.indexOf(e.id);a>-1&&(s.splice(a,1),I(s));let i={...t};i.meta.questions[r].flagged=!(e.hasOwnProperty("flagged")&&e.flagged),n(i)}else a.message&&on("vibebp").addNotification({icon:"",text:a.message})}).catch(e=>{console.error("Uh oh, an error!",e),on("vibebp").addNotification({text:window.wplms_course_data.translations.error_loading_data})})})(i,o)}},Gt("i",{className:i.flagged?"vicon vicon-flag-alt":"vicon vicon-flag"})):"",i.hint?Gt("span",{className:u,onClick:e=>{let r={...t};r.meta.questions[o].hasOwnProperty("show_hint")&&r.meta.questions[o].show_hint?r.meta.questions[o].show_hint=!1:r.meta.questions[o].show_hint=!0,n(r)}}):"")),X(i,o),!t.submitted&&t.start?Gt("span",{className:"bookmark button",onClick:()=>{(t=>{let n=[...O],r=n.indexOf(t.id);r<=-1?n.push(t.id):n.splice(r,1),localforage.setItem("bookmarked_questions_"+e.quizid,JSON.stringify(n)),P(n),n.length||"bookmarked"!=z||S(null)})(i)}},Gt("i",{className:O.indexOf(i.id)>-1?"vicon vicon-bookmark-alt":"vicon vicon-bookmark"})):"",i.attempted||!t.check_answer||t.submitted?"":!e.hasOwnProperty("non_logged_in_quiz")||e.hasOwnProperty("non_logged_in_quiz")&&!e.non_logged_in_quiz?Gt("div",{className:"checkanswer"===r?"check_answer button is-primary is-loading":"check_answer button is-primary",onClick:e=>{((e,r)=>{s("checkanswer");let a=Je(e,t.partial_marking,t.negative_marking,parseFloat(t.negative_marks),!0),i={...t};a.attempted=!0,i.meta.questions[r]=a,fetch(window.wplms_course_data.api_url+"/user/saveuserquestion?post",{method:"POST",headers:window.vibebp.xnonce?{"X-WP-Nonce":window.vibebp.xnonce}:{},body:JSON.stringify({quiz_id:i.id,question:a,token:b})}).then(e=>e.ok?e.json():{status:0,message:window.wplms_course_data.translations.error_loading_data}).then(e=>{s(!1),n(i),Q(i),e.hasOwnProperty("message")&&on("vibebp").addNotification({text:e.message})}).catch(e=>{s(!1),console.error("Uh oh, an error!",e),on("vibebp").addNotification({text:window.wplms_course_data.translations.error_loading_data})})})(i,o)}},window.wplms_course_data.translations.check_answer):"",i.hint?Gt("span",{className:l,dangerouslySetInnerHTML:{__html:i.hint}}):"",i.attempted?Gt(Ke,{question:i}):"",i.attempted&&i.show_correct_answer&&i.explanation.length?Gt("div",{className:"explanation"},Gt("strong",null,window.wplms_course_data.translations.question_explanation),Gt("div",{dangerouslySetInnerHTML:{__html:i.explanation}})):"")}):"",t&&t.meta&&t.meta.questions&&(t.start||t.submitted)?Gt(ft,{quiz:t,questions:[...ee],currentQuestions:a,filter:z,update:j,bookMarked:O}):"")))):Gt(Jt,null)};const{createElement:_n,useState:mn,useEffect:pn,Fragment:hn,render:wn,useRef:gn}=wp.element,{dispatch:fn,select:qn}=wp.data,vn=e=>{let t=qn("vibebp").getUser();t.token=qn("vibebp").getToken();pn(()=>{window.scorm_page_type="course",window.scorm_wplms_data={},window.scorm_wplms_data.user_email=t.email,window.scorm_wplms_data.user_name=t.username,window.scorm_wplms_data.token=t.token,window.scorm_wplms_data.course_id=e.course_id,window.scorm_wplms_data.module_id=e.quiz_id,window.is_take_course=!0,window.scorm_wplms_data.type="quiz";var r=new CustomEvent("unit_content_loaded",{detail:{}});return document.dispatchEvent(r),document.addEventListener("scormquizsubmitted",n),()=>{document.removeEventListener("scormquizsubmitted",n)}},[e.quiz_id]);const n=t=>{var n={coursestatus:e.coursestatus,action:"quizsubmitted",id:e.quiz_id,course_id:e.course_id},r=new CustomEvent("custom_quiz_action",{detail:n});document.dispatchEvent(r)};return _n("div",{className:"ScormQuiz"},_n("div",{className:"quiz_content"},_n("div",{className:"new_quiz_scorm_wrapper wplms_iframe_wrapper",dangerouslySetInnerHTML:{__html:e.content_id}})))};document.addEventListener("custom_quiz_type",e=>{"scorm"===e.detail.type&&setTimeout(()=>{wn(_n(vn,{quiz_id:e.detail.id,course_id:e.detail.course_id,content_id:e.detail.content_id,coursestatus:e.detail.coursestatus}),document.querySelector("#scorm"))},200)},!1);const{createElement:yn,render:kn,useState:bn,useEffect:xn,Fragment:zn}=wp.element,{dispatch:Sn,select:Nn}=wp.data,On=e=>{const[t,n]=bn({}),[r,s]=bn(!1),[a,i]=bn(!1);return xn(()=>{fetch(`${window.wplms_course_data.api_url}/post/excerpt/${e.quizid}?force`,{method:"post",body:JSON.stringify()}).then(e=>e.ok?e.json():{status:0,message:window.wplms_course_data.translations.error_loading_data}).then(e=>{e.status&&e.hasOwnProperty("data")&&(document.dispatchEvent(new Event("VibeBP_Editor_Content")),n(e.data),e.hasOwnProperty("non_logged_in")&&s(!0),i(!0))}).catch(e=>{i(!0),console.error("Uh oh, an error!",e),Sn("vibebp").addNotification({text:window.wplms_course_data.translations.error_loading_data})})},[e.quizid]),a?yn(zn,null,r?yn(dn,{non_logged_in_quiz:1,quizid:document.querySelector("#wplms_quiz").getAttribute("data-id"),force:1}):yn("div",{className:"quiz_content"},yn("div",{dangerouslySetInnerHTML:{__html:t}}))):""};document.addEventListener("userLoaded",e=>{if(document.querySelector("#wplms_quiz"))if(document.querySelector("#wplms_quiz").getAttribute("quiz_type")&&document.querySelector("#wplms_quiz").getAttribute("quiz_type").length){var t={type:document.querySelector("#wplms_quiz").getAttribute("quiz_type"),id:document.querySelector("#wplms_quiz").getAttribute("data-id"),content_id:document.querySelector("#wplms_quiz").getAttribute("content_id")?document.querySelector("#wplms_quiz").getAttribute("content_id"):"undefined"!=typeof wplms_quiz_scorm_package?wplms_quiz_scorm_package:""},n=new CustomEvent("custom_quiz_type",{detail:t});document.dispatchEvent(n)}else kn(yn(dn,{quizid:document.querySelector("#wplms_quiz").getAttribute("data-id"),type:document.querySelector("#wplms_quiz").getAttribute("data-type")}),document.querySelector("#wplms_quiz"))}),document.querySelector("#wplms_quiz")&&kn(yn(On,{quizid:document.querySelector("#wplms_quiz").getAttribute("data-id"),type:document.querySelector("#wplms_quiz").getAttribute("data-type")}),document.querySelector("#wplms_quiz"))}]);