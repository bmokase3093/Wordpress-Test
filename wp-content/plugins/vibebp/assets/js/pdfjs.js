!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){},function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,c=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,c=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw c}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.r(t);var o=wp.element,c=(o.createElement,o.useState),i=o.useEffect,a=(o.Fragment,o.useRef),u=wp.data,l=(u.dispatch,u.select,function(e){var t=a(null),n=r(c(0),2),o=n[0],u=n[1],l=r(c(1),2),f=l[0],p=l[1],s=r(c(1),2),d=s[0],m=s[1],v=r(c(Math.floor(o/f)),2),b=v[0],g=v[1],w=r(c(null),2),y=w[0],h=w[1],_=r(c(0),2),j=_[0],E=_[1],S=function(e){return new Promise((function(t){return setTimeout((function(){t()}),e)}))};i((function(){return pdfjsLib.getDocument(e.url).then((function(e){h(e),E(e.numPages)})),document.addEventListener("visibilitychange",x),function(){document.removeEventListener("visibilitychange",x)}}),[e.url]);var x=function(){document.hidden?console.log("pdf Browser tab is hidden"):pdfjsLib.getDocument(e.url).then((function(e){h(e),E(e.numPages)}))};i((function(){j&&null!=y&&A()}),[j,d,f,o,y,b]);var P,q,N,O=function(e){if("prev"===e){if(0===o)return;u(o-f),o<0&&u(0)}if("zoom_out"===e&&d>1&&m(d-.5),"zoom_in"===e&&m(d+.5),"next"===e){if(o===j-1)return;u(o+f),o>j-1&&u(j-1)}},A=function(){var e,n,r,c,i;return regeneratorRuntime.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,regeneratorRuntime.awrap(S(150));case 2:for(e=Math.floor(o/f),g(e),r=(n=e*f)+f<j?n+f-1:j-1,c=[],i=n;i<=r;i++)c.push(y.getPage(i+1));t.current&&Promise.all(c).then((function(e){t.current.querySelector(".pdf_wrrap")&&t.current.querySelector(".pdf_wrrap").remove();var n='<div style="width:100%" class="pdf_wrrap"><canvas></canvas></div>'.repeat(e.length);t.current.innerHTML=n,e.forEach(C)}));case 9:case"end":return a.stop()}}))},C=function(e){if(t.current&&t.current.children[e.pageIndex-b*f]){var n=e.getViewport(d),r=t.current.children[e.pageIndex-b*f];n=e.getViewport(d);var o=r.children[0],c=o.getContext("2d",{preserveDrawingBuffer:!0});o.height=n.height,o.width=n.width,e.render({canvasContext:c,viewport:n})}};return wp.element.createElement("div",{className:"pdf-view"},wp.element.createElement("div",{role:"toolbar",className:"toolbar"},wp.element.createElement("div",{className:"pager"},wp.element.createElement("span",{className:"vicon vicon-arrow-left",onClick:function(){O("prev")}}),wp.element.createElement("span",{className:"vicon vicon-arrow-right",onClick:function(){O("next")}}),wp.element.createElement("span",{className:"vicon vicon-zoom-in",onClick:function(){O("zoom_in")}}),wp.element.createElement("span",{className:"vicon vicon-zoom-out",onClick:function(){O("zoom_out")}})),wp.element.createElement("div",{className:"page-mode"},wp.element.createElement("label",null,wp.element.createElement("input",(N=f,(q="value")in(P={type:"number",value:"1",min:"1",max:j,onChange:function(e){return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:parseInt(e.target.value)<=j&&p(Number(e.target.value));case 1:case"end":return t.stop()}}))}})?Object.defineProperty(P,q,{value:N,enumerable:!0,configurable:!0,writable:!0}):P[q]=N,P))))),wp.element.createElement("div",{className:"pdf_view",ref:t}))}),f=(n(0),wp.element),p=(f.createElement,f.useState,f.useEffect,f.Fragment,f.render),s=wp.data;s.dispatch,s.select;document.addEventListener("VibeBP_Editor_Content",(function(){setTimeout((function(){if(document.querySelectorAll(".vbp_pdf_object")&&document.querySelectorAll(".vbp_pdf_object").length)if(document.querySelector("#vbp-pdf-js"))d();else{var e=document.createElement("script");e.type="text/javascript",e.id="vbp-pdf-js",e.src=window.vibebp.settings.pdfjs_script,document.body.appendChild(e),e.onload=function(){d()}}}),200)}));var d=function(){document.querySelectorAll(".vbp_pdf_object")&&document.querySelectorAll(".vbp_pdf_object").length&&document.querySelectorAll(".vbp_pdf_object").forEach((function(e){if(e.querySelector("object")){var t=e.querySelector("object").getAttribute("data");p(wp.element.createElement(l,{url:t}),e)}}))}}]);