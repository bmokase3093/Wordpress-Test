!function(e){var t={};function n(l){if(t[l])return t[l].exports;var a=t[l]={i:l,l:!1,exports:{}};return e[l].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,l){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(n.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(l,a,function(t){return e[t]}.bind(null,a));return l},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(0);var l=wp.element,a=(l.createElement,l.useState,l.useEffect,l.Fragment,l.render,wp.data),r=(a.dispatch,a.select,function(e){var t,n,l=e.percentage;switch(e.size){case"xs":t=10,n=1;break;case"sm":t=25,n=2.5;break;case"med":t=50,n=5;break;case"lg":t=75,n=7.5;break;case"xl":t=100,n=10;break;default:t=50,n=5}var a=t-2*n,r=2*a*Math.PI,i=r-l/100*r;return wp.element.createElement("div",{className:"react-progress-circle"},wp.element.createElement("svg",{height:2*t,width:2*t},wp.element.createElement("circle",{className:"ReactProgressCircle_circleBackground",strokeWidth:n,style:{strokeDashoffset:i},r:a,cx:t,cy:t}),wp.element.createElement("circle",{className:"ReactProgressCircle_circle",strokeWidth:n,strokeDasharray:r+" "+r,style:{strokeDashoffset:i},r:a,cx:t,cy:t})))});function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],l=!0,a=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(l=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);l=!0);}catch(e){a=!0,r=e}finally{try{l||null==s.return||s.return()}finally{if(a)throw r}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var c=wp.element,o=(c.createElement,c.useState),p=c.useEffect,u=c.Fragment,m=(c.render,wp.data),d=(m.dispatch,m.select,function(e){var t=s(o(!1),2),n=t[0],l=t[1],a=s(o(!0),2),c=a[0],m=a[1],d=s(o(!1),2),w=d[0],b=d[1],f=s(o(window.vibebp_setup.installation.steps[0]),2),v=f[0],y=f[1],h=s(o(!0),2),E=h[0],_=h[1],g=s(o([]),2),k=g[0],x=g[1],O=s(o([]),2),C=O[0],N=O[1],j=s(o([]),2),S=j[0],M=j[1],z=s(o(""),2),A=(z[0],z[1],s(o([]),2));A[0],A[1];p((function(){window.vibebp_setup.installation.plugins.map((function(e){e.required&&(e.status&&c?m(!0):m(!1))}));var e=i(k);window.vibebp_setup.installation.steps[0].features.map((function(t){(t.required||t.is_active)&&e.push(t)})),x(e)}),[]);var P=function(){var e={};return"features"==v.key&&(e={step:"features",features:k}),"content"==v.key&&(e={step:"content",content:C}),"access"==v.key&&(e={step:"access",accesses:S}),b(!0),fetch("".concat(window.vibebp_setup.api.url,"/setup_wizard?security=").concat(window.vibebp_setup.security),{method:"post",body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){b(!1),e.status?window.vibebp_setup.installation.steps.indexOf(v)+1<window.vibebp_setup.installation.steps.length&&y(window.vibebp_setup.installation.steps[window.vibebp_setup.installation.steps.indexOf(v)+1]):e.hasOwnProperty("message")&&alert(e.message)}))};return wp.element.createElement("div",{className:"vibebp_setup_wizard_wrapper"},wp.element.createElement("span",{onClick:e.close}),wp.element.createElement("div",{className:"vibebp_setup_wizard"},n?wp.element.createElement("div",{className:"vibebp_setup_steps_wrapper"},wp.element.createElement("div",{className:"vibebp_setup_steps"},wp.element.createElement("ul",null,window.vibebp_setup.installation.steps.map((function(e){return wp.element.createElement("li",{className:e.key==v.key?"active":"",onClick:function(){y(e),m(!1)}},wp.element.createElement("span",null,e.label))})))),wp.element.createElement("div",{className:"vibebp_setup_steps_content"},wp.element.createElement("strong",{dangerouslySetInnerHTML:{__html:v.description}}),"features"==v.key?wp.element.createElement("div",{className:"features"},v.features.map((function(e){return wp.element.createElement("div",{className:k.indexOf(e)>-1||e.required?"feature active":"feature",onClick:function(){if(!e.required){var t=i(k);k.indexOf(e)>-1?t.splice(k.indexOf(e),1):t.push(e),x(t),_(!1)}}},wp.element.createElement("span",{dangerouslySetInnerHTML:{__html:e.icon}}),wp.element.createElement("span",null,e.label))}))):"content"==v.key?wp.element.createElement("div",{className:"content"},v.layouts.map((function(e){if("checkbox"==e.type){var t="layout_"+Math.round(1e4*Math.random());return wp.element.createElement("div",{className:"layout"},wp.element.createElement("div",{className:"checkbox"},wp.element.createElement("input",{type:"checkbox",id:t,value:e.key,checked:C.indexOf(e)>-1,onChange:function(){N([].concat(i(C),[e])),_(!1)}}),wp.element.createElement("svg",{onClick:function(){if(C.indexOf(e)>-1){var t=i(C);t.splice(C.indexOf(e),1),N(t)}else N([].concat(i(C),[e]))},width:"48",height:"48",viewBox:"0 0 24 24",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2}},wp.element.createElement("path",{d:"M18,18L6,18C2.689,18 0,15.311 0,12C0,8.689 2.689,6 6,6L18.039,6C21.332,6.021 24,8.701 24,12C24,15.311 21.312,18 18,18Z"}),wp.element.createElement("path",{d:"M6,8C8.208,8 10,9.792 10,12C10,14.208 8.208,16 6,16C3.792,16 2,14.208 2,12C2,9.792 3.792,8 6,8Z",style:{fill:"white"}})),wp.element.createElement("label",{for:t},e.label)),wp.element.createElement(r,{size:"xs",percentage:0}))}}))):"access"==v.key?wp.element.createElement(u,null,wp.element.createElement("div",{className:"content"},v.access.map((function(e){if("checkbox"==e.type){var t="access"+Math.round(1e4*Math.random());return wp.element.createElement("div",{className:"layout"},wp.element.createElement("div",{className:"checkbox"},wp.element.createElement("input",{type:"checkbox",id:t,value:e.key,checked:S.indexOf(e)>-1,onChange:function(){if(-1==S.indexOf(e))M([].concat(i(S),[e]));else{var t=i(S);t.splice(S.indexOf(e),1),M(t)}}}),wp.element.createElement("svg",{width:"48",height:"48",viewBox:"0 0 24 24",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2}},wp.element.createElement("path",{d:"M18,18L6,18C2.689,18 0,15.311 0,12C0,8.689 2.689,6 6,6L18.039,6C21.332,6.021 24,8.701 24,12C24,15.311 21.312,18 18,18Z"}),wp.element.createElement("path",{d:"M6,8C8.208,8 10,9.792 10,12C10,14.208 8.208,16 6,16C3.792,16 2,14.208 2,12C2,9.792 3.792,8 6,8Z",style:{fill:"white"}})),wp.element.createElement("label",{for:t},e.label)))}}))),wp.element.createElement("a",{class:"button",onClick:function(){b(!0),P(),fetch("".concat(window.vibebp_setup.api.url,"/complete_wizard?security=").concat(window.vibebp_setup.security),{method:"post",body:JSON.stringify({id:window.vibebp_setup.api.admin_id})}).then((function(e){return e.json()})).then((function(e){if(b(!1),e.url){var t=new Event("vibebp_setup_wizard_complete");document.dispatchEvent(t),window.open(e.url,"_blank"),window.focus()}}))}},"Complete")):"",window.vibebp_setup.installation.steps.indexOf(v)<window.vibebp_setup.installation.steps.length-1?wp.element.createElement("a",{className:"button",onClick:function(){E?y(window.vibebp_setup.installation.steps[window.vibebp_setup.installation.steps.indexOf(v)+1]):P()}},w?"...":window.vibebp_setup.translations.next_step):"")):wp.element.createElement("div",{className:"introduction_wrapper"},wp.element.createElement("div",{className:"introduction"},wp.element.createElement("h1",null,wp.element.createElement("span",null,window.vibebp_setup.installation.title)),wp.element.createElement("p",null,window.vibebp_setup.installation.description),wp.element.createElement("div",{className:"plugins_list"},window.vibebp_setup.installation.plugins.map((function(e){return wp.element.createElement("div",{className:"plugin"},wp.element.createElement("h3",null,e.label,e.labels&&e.labels.length?wp.element.createElement("span",null,e.labels.map((function(e){return wp.element.createElement("span",{style:{background:e.color}},e.label)}))):""),e.required?wp.element.createElement("span",null,window.vibebp_setup.translations.required):e.recommended?wp.element.createElement("span",null,window.vibebp_setup.translations.recommended):wp.element.createElement("i",null),wp.element.createElement("span",null,2==e.status?wp.element.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},wp.element.createElement("path",{d:"M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm-1.959 17l-4.5-4.319 1.395-1.435 3.08 2.937 7.021-7.183 1.422 1.409-8.418 8.591z"})):1==e.status?wp.element.createElement("span",null,window.vibebp_setup.translations.activate_plugin):wp.element.createElement("span",null,e.hasOwnProperty("link")?wp.element.createElement("a",{href:e.link,target:"_blank"},window.vibebp_setup.translations.install_plugin):"")))})))),wp.element.createElement("a",{className:c?"button":"button disabled",onClick:function(){c&&l(!0)}},window.vibebp_setup.translations.begin_setup))))});function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],l=!0,a=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(l=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);l=!0);}catch(e){a=!0,r=e}finally{try{l||null==s.return||s.return()}finally{if(a)throw r}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var b=wp.element,f=(b.createElement,b.useState),v=(b.useEffect,b.Fragment,b.render),y=wp.data;y.dispatch,y.select;v(wp.element.createElement((function(e){var t=w(f({}),2),n=(t[0],t[1],w(f(!1),2)),l=n[0],a=n[1];return wp.element.createElement("div",{className:"setup_wizard"},l?wp.element.createElement(d,{close:function(){return a(!1)}}):wp.element.createElement("div",{className:"wizard_message"},wp.element.createElement("p",null,window.vibebp_setup.translations.configure_vibebp,wp.element.createElement("a",{className:"button-primary",onClick:function(){return a(!0)}},window.vibebp_setup.translations.setup_wizard))))}),null),document.getElementById("vibebp_setup_wizard"))}]);